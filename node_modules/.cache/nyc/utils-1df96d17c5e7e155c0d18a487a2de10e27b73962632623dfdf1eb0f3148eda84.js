'use strict';function cov_3883new1k(){var path="/Users/priyankaverma/IdeaProjects/pcq-frontend/app/components/utils.js";var hash="16de06e65d1fd1e0dad7429ccf72c1abdda04a0a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/priyankaverma/IdeaProjects/pcq-frontend/app/components/utils.js",statementMap:{"0":{start:{line:3,column:0},end:{line:9,column:2}},"1":{start:{line:4,column:4},end:{line:7,column:5}},"2":{start:{line:6,column:8},end:{line:6,column:73}},"3":{start:{line:8,column:4},end:{line:8,column:11}},"4":{start:{line:11,column:0},end:{line:34,column:2}},"5":{start:{line:12,column:4},end:{line:31,column:5}},"6":{start:{line:13,column:22},end:{line:13,column:40}},"7":{start:{line:14,column:27},end:{line:14,column:60}},"8":{start:{line:15,column:27},end:{line:18,column:9}},"9":{start:{line:19,column:29},end:{line:19,column:76}},"10":{start:{line:20,column:23},end:{line:20,column:82}},"11":{start:{line:24,column:8},end:{line:28,column:11}},"12":{start:{line:25,column:12},end:{line:27,column:22}},"13":{start:{line:26,column:16},end:{line:26,column:30}},"14":{start:{line:30,column:8},end:{line:30,column:40}},"15":{start:{line:32,column:24},end:{line:32,column:62}},"16":{start:{line:33,column:4},end:{line:33,column:29}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:21},end:{line:3,column:22}},loc:{start:{line:3,column:47},end:{line:9,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:19},end:{line:11,column:20}},loc:{start:{line:11,column:45},end:{line:34,column:1}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:27},end:{line:24,column:28}},loc:{start:{line:24,column:33},end:{line:28,column:9}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:25,column:24},end:{line:25,column:25}},loc:{start:{line:25,column:30},end:{line:27,column:13}},line:25}},branchMap:{"0":{loc:{start:{line:4,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:4,column:4},end:{line:7,column:5}},{start:{line:4,column:4},end:{line:7,column:5}}],line:4},"1":{loc:{start:{line:12,column:4},end:{line:31,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:31,column:5}},{start:{line:12,column:4},end:{line:31,column:5}}],line:12},"2":{loc:{start:{line:19,column:29},end:{line:19,column:76}},type:"cond-expr",locations:[{start:{line:19,column:61},end:{line:19,column:71}},{start:{line:19,column:74},end:{line:19,column:76}}],line:19}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"16de06e65d1fd1e0dad7429ccf72c1abdda04a0a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_3883new1k=function(){return actualCoverage;};}return actualCoverage;}cov_3883new1k();cov_3883new1k().s[0]++;exports.forceHttps=function(req,res,next){cov_3883new1k().f[0]++;cov_3883new1k().s[1]++;if(req.headers['x-forwarded-proto']!=='https'){cov_3883new1k().b[0][0]++;cov_3883new1k().s[2]++;// 302 temporary - this is a feature that can be disabled
return res.redirect(302,`https://${req.get('Host')}${req.url}`);}else{cov_3883new1k().b[0][1]++;}cov_3883new1k().s[3]++;next();};cov_3883new1k().s[4]++;exports.getStore=(redisConfig,session)=>{cov_3883new1k().f[1]++;cov_3883new1k().s[5]++;if(redisConfig.enabled==='true'){cov_3883new1k().b[1][0]++;const Redis=(cov_3883new1k().s[6]++,require('ioredis'));const RedisStore=(cov_3883new1k().s[7]++,require('connect-redis')(session));const tlsOptions=(cov_3883new1k().s[8]++,{password:redisConfig.password,tls:true});const redisOptions=(cov_3883new1k().s[9]++,redisConfig.useTLS==='true'?(cov_3883new1k().b[2][0]++,tlsOptions):(cov_3883new1k().b[2][1]++,{}));const client=(cov_3883new1k().s[10]++,new Redis(redisConfig.port,redisConfig.host,redisOptions));// Azure Cache for Redis has issues with a 10 minute connection idle timeout, the recommendation is to keep the connection alive
// https://gist.github.com/JonCole/925630df72be1351b21440625ff2671f#file-redis-bestpractices-node-js-md
cov_3883new1k().s[11]++;client.on('ready',()=>{cov_3883new1k().f[2]++;cov_3883new1k().s[12]++;setInterval(()=>{cov_3883new1k().f[3]++;cov_3883new1k().s[13]++;client.ping();},60000);// 60s
});cov_3883new1k().s[14]++;return new RedisStore({client});}else{cov_3883new1k().b[1][1]++;}const MemoryStore=(cov_3883new1k().s[15]++,require('express-session').MemoryStore);cov_3883new1k().s[16]++;return new MemoryStore();};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiZm9yY2VIdHRwcyIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXJzIiwicmVkaXJlY3QiLCJnZXQiLCJ1cmwiLCJnZXRTdG9yZSIsInJlZGlzQ29uZmlnIiwic2Vzc2lvbiIsImVuYWJsZWQiLCJSZWRpcyIsInJlcXVpcmUiLCJSZWRpc1N0b3JlIiwidGxzT3B0aW9ucyIsInBhc3N3b3JkIiwidGxzIiwicmVkaXNPcHRpb25zIiwidXNlVExTIiwiY2xpZW50IiwicG9ydCIsImhvc3QiLCJvbiIsInNldEludGVydmFsIiwicGluZyIsIk1lbW9yeVN0b3JlIl0sInNvdXJjZXMiOlsidXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmZvcmNlSHR0cHMgPSBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgICBpZiAocmVxLmhlYWRlcnNbJ3gtZm9yd2FyZGVkLXByb3RvJ10gIT09ICdodHRwcycpIHtcbiAgICAgICAgLy8gMzAyIHRlbXBvcmFyeSAtIHRoaXMgaXMgYSBmZWF0dXJlIHRoYXQgY2FuIGJlIGRpc2FibGVkXG4gICAgICAgIHJldHVybiByZXMucmVkaXJlY3QoMzAyLCBgaHR0cHM6Ly8ke3JlcS5nZXQoJ0hvc3QnKX0ke3JlcS51cmx9YCk7XG4gICAgfVxuICAgIG5leHQoKTtcbn07XG5cbmV4cG9ydHMuZ2V0U3RvcmUgPSAocmVkaXNDb25maWcsIHNlc3Npb24pID0+IHtcbiAgICBpZiAocmVkaXNDb25maWcuZW5hYmxlZCA9PT0gJ3RydWUnKSB7XG4gICAgICAgIGNvbnN0IFJlZGlzID0gcmVxdWlyZSgnaW9yZWRpcycpO1xuICAgICAgICBjb25zdCBSZWRpc1N0b3JlID0gcmVxdWlyZSgnY29ubmVjdC1yZWRpcycpKHNlc3Npb24pO1xuICAgICAgICBjb25zdCB0bHNPcHRpb25zID0ge1xuICAgICAgICAgICAgcGFzc3dvcmQ6IHJlZGlzQ29uZmlnLnBhc3N3b3JkLFxuICAgICAgICAgICAgdGxzOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlZGlzT3B0aW9ucyA9IHJlZGlzQ29uZmlnLnVzZVRMUyA9PT0gJ3RydWUnID8gdGxzT3B0aW9ucyA6IHt9O1xuICAgICAgICBjb25zdCBjbGllbnQgPSBuZXcgUmVkaXMocmVkaXNDb25maWcucG9ydCwgcmVkaXNDb25maWcuaG9zdCwgcmVkaXNPcHRpb25zKTtcblxuICAgICAgICAvLyBBenVyZSBDYWNoZSBmb3IgUmVkaXMgaGFzIGlzc3VlcyB3aXRoIGEgMTAgbWludXRlIGNvbm5lY3Rpb24gaWRsZSB0aW1lb3V0LCB0aGUgcmVjb21tZW5kYXRpb24gaXMgdG8ga2VlcCB0aGUgY29ubmVjdGlvbiBhbGl2ZVxuICAgICAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9Kb25Db2xlLzkyNTYzMGRmNzJiZTEzNTFiMjE0NDA2MjVmZjI2NzFmI2ZpbGUtcmVkaXMtYmVzdHByYWN0aWNlcy1ub2RlLWpzLW1kXG4gICAgICAgIGNsaWVudC5vbigncmVhZHknLCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2xpZW50LnBpbmcoKTtcbiAgICAgICAgICAgIH0sIDYwMDAwKTsgLy8gNjBzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgUmVkaXNTdG9yZSh7Y2xpZW50fSk7XG4gICAgfVxuICAgIGNvbnN0IE1lbW9yeVN0b3JlID0gcmVxdWlyZSgnZXhwcmVzcy1zZXNzaW9uJykuTWVtb3J5U3RvcmU7XG4gICAgcmV0dXJuIG5ldyBNZW1vcnlTdG9yZSgpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsYSx5MEZBZVk7Z0hBYlpBLE9BQU8sQ0FBQ0MsVUFBUixDQUFxQixTQUFVQyxHQUFWLENBQWVDLEdBQWYsQ0FBb0JDLElBQXBCLENBQTBCLCtDQUMzQyxHQUFJRixHQUFHLENBQUNHLE9BQUosQ0FBWSxtQkFBWixJQUFxQyxPQUF6QyxDQUFrRCxrREFDOUM7QUFDQSxNQUFPRixJQUFHLENBQUNHLFFBQUosQ0FBYSxHQUFiLENBQW1CLFdBQVVKLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLE1BQVIsQ0FBZ0IsR0FBRUwsR0FBRyxDQUFDTSxHQUFJLEVBQXZELENBQVAsQ0FDSCxDQUhELGdDQUQyQyx1QkFLM0NKLElBQUksR0FDUCxDQU5ELEMsdUJBUUFKLE9BQU8sQ0FBQ1MsUUFBUixDQUFtQixDQUFDQyxXQUFELENBQWNDLE9BQWQsR0FBMEIsK0NBQ3pDLEdBQUlELFdBQVcsQ0FBQ0UsT0FBWixHQUF3QixNQUE1QixDQUFvQywyQkFDaEMsS0FBTUMsTUFBSyx5QkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFYLENBQ0EsS0FBTUMsV0FBVSx5QkFBR0QsT0FBTyxDQUFDLGVBQUQsQ0FBUCxDQUF5QkgsT0FBekIsQ0FBSCxDQUFoQixDQUNBLEtBQU1LLFdBQVUseUJBQUcsQ0FDZkMsUUFBUSxDQUFFUCxXQUFXLENBQUNPLFFBRFAsQ0FFZkMsR0FBRyxDQUFFLElBRlUsQ0FBSCxDQUFoQixDQUlBLEtBQU1DLGFBQVkseUJBQUdULFdBQVcsQ0FBQ1UsTUFBWixHQUF1QixNQUF2Qiw0QkFBZ0NKLFVBQWhDLDZCQUE2QyxFQUE3QyxDQUFILENBQWxCLENBQ0EsS0FBTUssT0FBTSwwQkFBRyxHQUFJUixNQUFKLENBQVVILFdBQVcsQ0FBQ1ksSUFBdEIsQ0FBNEJaLFdBQVcsQ0FBQ2EsSUFBeEMsQ0FBOENKLFlBQTlDLENBQUgsQ0FBWixDQUVBO0FBQ0E7QUFYZ0Msd0JBWWhDRSxNQUFNLENBQUNHLEVBQVAsQ0FBVSxPQUFWLENBQW1CLElBQU0sZ0RBQ3JCQyxXQUFXLENBQUMsSUFBTSxnREFDZEosTUFBTSxDQUFDSyxJQUFQLEdBQ0gsQ0FGVSxDQUVSLEtBRlEsQ0FBWCxDQUVXO0FBQ2QsQ0FKRCxFQVpnQyx3QkFrQmhDLE1BQU8sSUFBSVgsV0FBSixDQUFlLENBQUNNLE1BQUQsQ0FBZixDQUFQLENBQ0gsQ0FuQkQsZ0NBb0JBLEtBQU1NLFlBQVcsMEJBQUdiLE9BQU8sQ0FBQyxpQkFBRCxDQUFQLENBQTJCYSxXQUE5QixDQUFqQixDQXJCeUMsd0JBc0J6QyxNQUFPLElBQUlBLFlBQUosRUFBUCxDQUNILENBdkJEIn0=