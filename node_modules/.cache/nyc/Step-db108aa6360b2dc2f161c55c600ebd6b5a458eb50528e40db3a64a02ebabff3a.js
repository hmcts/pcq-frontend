'use strict';function cov_f4i8i5mrb(){var path="/Users/bradleywadsworth/development/reform/pcq-frontend/app/core/steps/Step.js";var hash="929c3d57ae9a8b07ee77117d193cd22596d16b90";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/bradleywadsworth/development/reform/pcq-frontend/app/core/steps/Step.js",statementMap:{"0":{start:{line:3,column:74},end:{line:3,column:91}},"1":{start:{line:4,column:21},end:{line:4,column:61}},"2":{start:{line:5,column:19},end:{line:5,column:49}},"3":{start:{line:6,column:26},end:{line:6,column:75}},"4":{start:{line:7,column:15},end:{line:7,column:32}},"5":{start:{line:8,column:22},end:{line:8,column:56}},"6":{start:{line:9,column:22},end:{line:9,column:56}},"7":{start:{line:10,column:14},end:{line:10,column:50}},"8":{start:{line:11,column:15},end:{line:11,column:32}},"9":{start:{line:12,column:15},end:{line:12,column:47}},"10":{start:{line:17,column:8},end:{line:17,column:60}},"11":{start:{line:21,column:8},end:{line:21,column:37}},"12":{start:{line:25,column:8},end:{line:25,column:34}},"13":{start:{line:29,column:8},end:{line:31,column:9}},"14":{start:{line:30,column:12},end:{line:30,column:97}},"15":{start:{line:32,column:8},end:{line:32,column:47}},"16":{start:{line:36,column:8},end:{line:36,column:18}},"17":{start:{line:40,column:8},end:{line:40,column:27}},"18":{start:{line:41,column:8},end:{line:41,column:39}},"19":{start:{line:42,column:8},end:{line:42,column:41}},"20":{start:{line:43,column:8},end:{line:43,column:49}},"21":{start:{line:44,column:8},end:{line:44,column:88}},"22":{start:{line:45,column:8},end:{line:45,column:31}},"23":{start:{line:49,column:27},end:{line:49,column:62}},"24":{start:{line:50,column:8},end:{line:50,column:46}},"25":{start:{line:54,column:8},end:{line:54,column:78}},"26":{start:{line:58,column:24},end:{line:58,column:35}},"27":{start:{line:59,column:18},end:{line:59,column:20}},"28":{start:{line:60,column:8},end:{line:60,column:60}},"29":{start:{line:61,column:8},end:{line:61,column:38}},"30":{start:{line:62,column:8},end:{line:62,column:61}},"31":{start:{line:64,column:8},end:{line:70,column:9}},"32":{start:{line:65,column:12},end:{line:69,column:15}},"33":{start:{line:66,column:16},end:{line:68,column:17}},"34":{start:{line:67,column:20},end:{line:67,column:38}},"35":{start:{line:72,column:8},end:{line:72,column:91}},"36":{start:{line:74,column:8},end:{line:74,column:19}},"37":{start:{line:78,column:8},end:{line:78,column:21}},"38":{start:{line:83,column:8},end:{line:87,column:11}},"39":{start:{line:84,column:12},end:{line:86,column:13}},"40":{start:{line:85,column:16},end:{line:85,column:34}},"41":{start:{line:88,column:8},end:{line:88,column:29}},"42":{start:{line:92,column:8},end:{line:92,column:26}},"43":{start:{line:96,column:8},end:{line:96,column:50}},"44":{start:{line:100,column:8},end:{line:102,column:9}},"45":{start:{line:101,column:12},end:{line:101,column:101}},"46":{start:{line:103,column:27},end:{line:103,column:77}},"47":{start:{line:104,column:8},end:{line:104,column:46}},"48":{start:{line:106,column:8},end:{line:106,column:142}},"49":{start:{line:106,column:63},end:{line:106,column:140}},"50":{start:{line:108,column:8},end:{line:118,column:9}},"51":{start:{line:110,column:12},end:{line:114,column:13}},"52":{start:{line:111,column:16},end:{line:111,column:130}},"53":{start:{line:113,column:16},end:{line:113,column:139}},"54":{start:{line:115,column:12},end:{line:117,column:13}},"55":{start:{line:116,column:16},end:{line:116,column:75}},"56":{start:{line:120,column:8},end:{line:120,column:28}},"57":{start:{line:124,column:8},end:{line:124,column:46}},"58":{start:{line:125,column:23},end:{line:125,column:78}},"59":{start:{line:126,column:8},end:{line:126,column:82}},"60":{start:{line:126,column:49},end:{line:126,column:80}},"61":{start:{line:130,column:21},end:{line:145,column:10}},"62":{start:{line:133,column:12},end:{line:139,column:13}},"63":{start:{line:134,column:33},end:{line:134,column:50}},"64":{start:{line:135,column:29},end:{line:135,column:155}},"65":{start:{line:136,column:16},end:{line:136,column:90}},"66":{start:{line:138,column:16},end:{line:138,column:70}},"67":{start:{line:141,column:12},end:{line:144,column:14}},"68":{start:{line:146,column:8},end:{line:148,column:9}},"69":{start:{line:147,column:12},end:{line:147,column:55}},"70":{start:{line:149,column:8},end:{line:149,column:22}},"71":{start:{line:154,column:8},end:{line:154,column:18}},"72":{start:{line:158,column:8},end:{line:164,column:9}},"73":{start:{line:159,column:12},end:{line:163,column:15}},"74":{start:{line:160,column:16},end:{line:162,column:17}},"75":{start:{line:161,column:20},end:{line:161,column:60}},"76":{start:{line:165,column:8},end:{line:165,column:22}},"77":{start:{line:170,column:8},end:{line:170,column:18}},"78":{start:{line:174,column:22},end:{line:174,column:39}},"79":{start:{line:175,column:30},end:{line:175,column:55}},"80":{start:{line:176,column:25},end:{line:179,column:9}},"81":{start:{line:181,column:8},end:{line:181,column:56}},"82":{start:{line:183,column:8},end:{line:183,column:61}},"83":{start:{line:187,column:8},end:{line:187,column:29}},"84":{start:{line:188,column:8},end:{line:188,column:34}},"85":{start:{line:189,column:8},end:{line:189,column:25}},"86":{start:{line:191,column:8},end:{line:191,column:31}},"87":{start:{line:192,column:8},end:{line:192,column:31}},"88":{start:{line:196,column:30},end:{line:196,column:85}},"89":{start:{line:196,column:54},end:{line:196,column:84}},"90":{start:{line:197,column:8},end:{line:199,column:18}},"91":{start:{line:198,column:12},end:{line:198,column:57}},"92":{start:{line:203,column:8},end:{line:206,column:10}},"93":{start:{line:210,column:8},end:{line:210,column:32}},"94":{start:{line:214,column:8},end:{line:214,column:23}},"95":{start:{line:218,column:0},end:{line:218,column:22}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:20},end:{line:18,column:5}},line:16},"1":{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:15},end:{line:22,column:5}},line:20},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:13},end:{line:26,column:5}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:19},end:{line:33,column:5}},line:28},"4":{name:"(anonymous_4)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:25},end:{line:37,column:5}},line:35},"5":{name:"(anonymous_5)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:80},end:{line:46,column:5}},line:39},"6":{name:"(anonymous_6)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:19},end:{line:51,column:5}},line:48},"7":{name:"(anonymous_7)",decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:26},end:{line:55,column:5}},line:53},"8":{name:"(anonymous_8)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:70},end:{line:75,column:5}},line:57},"9":{name:"(anonymous_9)",decl:{start:{line:65,column:41},end:{line:65,column:42}},loc:{start:{line:65,column:52},end:{line:69,column:13}},line:65},"10":{name:"(anonymous_10)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:19},end:{line:79,column:5}},line:77},"11":{name:"(anonymous_11)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:28},end:{line:89,column:5}},line:81},"12":{name:"(anonymous_12)",decl:{start:{line:83,column:36},end:{line:83,column:37}},loc:{start:{line:83,column:45},end:{line:87,column:9}},line:83},"13":{name:"(anonymous_13)",decl:{start:{line:91,column:4},end:{line:91,column:5}},loc:{start:{line:91,column:15},end:{line:93,column:5}},line:91},"14":{name:"(anonymous_14)",decl:{start:{line:95,column:4},end:{line:95,column:5}},loc:{start:{line:95,column:17},end:{line:97,column:5}},line:95},"15":{name:"(anonymous_15)",decl:{start:{line:99,column:4},end:{line:99,column:5}},loc:{start:{line:99,column:52},end:{line:121,column:5}},line:99},"16":{name:"(anonymous_16)",decl:{start:{line:106,column:47},end:{line:106,column:48}},loc:{start:{line:106,column:63},end:{line:106,column:140}},line:106},"17":{name:"(anonymous_17)",decl:{start:{line:123,column:4},end:{line:123,column:5}},loc:{start:{line:123,column:35},end:{line:127,column:5}},line:123},"18":{name:"(anonymous_18)",decl:{start:{line:126,column:33},end:{line:126,column:34}},loc:{start:{line:126,column:49},end:{line:126,column:80}},line:126},"19":{name:"(anonymous_19)",decl:{start:{line:129,column:4},end:{line:129,column:5}},loc:{start:{line:129,column:42},end:{line:150,column:5}},line:129},"20":{name:"(anonymous_20)",decl:{start:{line:130,column:36},end:{line:130,column:37}},loc:{start:{line:130,column:52},end:{line:145,column:9}},line:130},"21":{name:"(anonymous_21)",decl:{start:{line:153,column:4},end:{line:153,column:5}},loc:{start:{line:153,column:23},end:{line:155,column:5}},line:153},"22":{name:"(anonymous_22)",decl:{start:{line:157,column:4},end:{line:157,column:5}},loc:{start:{line:157,column:24},end:{line:166,column:5}},line:157},"23":{name:"(anonymous_23)",decl:{start:{line:159,column:40},end:{line:159,column:41}},loc:{start:{line:159,column:49},end:{line:163,column:13}},line:159},"24":{name:"(anonymous_24)",decl:{start:{line:169,column:4},end:{line:169,column:5}},loc:{start:{line:169,column:25},end:{line:171,column:5}},line:169},"25":{name:"(anonymous_25)",decl:{start:{line:173,column:4},end:{line:173,column:5}},loc:{start:{line:173,column:46},end:{line:184,column:5}},line:173},"26":{name:"(anonymous_26)",decl:{start:{line:186,column:4},end:{line:186,column:5}},loc:{start:{line:186,column:26},end:{line:193,column:5}},line:186},"27":{name:"(anonymous_27)",decl:{start:{line:195,column:4},end:{line:195,column:5}},loc:{start:{line:195,column:32},end:{line:200,column:5}},line:195},"28":{name:"(anonymous_28)",decl:{start:{line:196,column:46},end:{line:196,column:47}},loc:{start:{line:196,column:54},end:{line:196,column:84}},line:196},"29":{name:"(anonymous_29)",decl:{start:{line:197,column:37},end:{line:197,column:38}},loc:{start:{line:197,column:67},end:{line:199,column:9}},line:197},"30":{name:"(anonymous_30)",decl:{start:{line:202,column:4},end:{line:202,column:5}},loc:{start:{line:202,column:17},end:{line:207,column:5}},line:202},"31":{name:"(anonymous_31)",decl:{start:{line:209,column:4},end:{line:209,column:5}},loc:{start:{line:209,column:29},end:{line:211,column:5}},line:209},"32":{name:"(anonymous_32)",decl:{start:{line:213,column:4},end:{line:213,column:5}},loc:{start:{line:213,column:26},end:{line:215,column:5}},line:213}},branchMap:{"0":{loc:{start:{line:29,column:8},end:{line:31,column:9}},type:"if",locations:[{start:{line:29,column:8},end:{line:31,column:9}},{start:{line:29,column:8},end:{line:31,column:9}}],line:29},"1":{loc:{start:{line:39,column:63},end:{line:39,column:78}},type:"default-arg",locations:[{start:{line:39,column:74},end:{line:39,column:78}}],line:39},"2":{loc:{start:{line:41,column:23},end:{line:41,column:38}},type:"binary-expr",locations:[{start:{line:41,column:23},end:{line:41,column:30}},{start:{line:41,column:34},end:{line:41,column:38}}],line:41},"3":{loc:{start:{line:57,column:44},end:{line:57,column:68}},type:"default-arg",locations:[{start:{line:57,column:66},end:{line:57,column:68}}],line:57},"4":{loc:{start:{line:60,column:27},end:{line:60,column:58}},type:"binary-expr",locations:[{start:{line:60,column:27},end:{line:60,column:52}},{start:{line:60,column:56},end:{line:60,column:58}}],line:60},"5":{loc:{start:{line:64,column:8},end:{line:70,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:70,column:9}},{start:{line:64,column:8},end:{line:70,column:9}}],line:64},"6":{loc:{start:{line:66,column:16},end:{line:68,column:17}},type:"if",locations:[{start:{line:66,column:16},end:{line:68,column:17}},{start:{line:66,column:16},end:{line:68,column:17}}],line:66},"7":{loc:{start:{line:84,column:12},end:{line:86,column:13}},type:"if",locations:[{start:{line:84,column:12},end:{line:86,column:13}},{start:{line:84,column:12},end:{line:86,column:13}}],line:84},"8":{loc:{start:{line:99,column:35},end:{line:99,column:50}},type:"default-arg",locations:[{start:{line:99,column:46},end:{line:99,column:50}}],line:99},"9":{loc:{start:{line:100,column:8},end:{line:102,column:9}},type:"if",locations:[{start:{line:100,column:8},end:{line:102,column:9}},{start:{line:100,column:8},end:{line:102,column:9}}],line:100},"10":{loc:{start:{line:108,column:8},end:{line:118,column:9}},type:"if",locations:[{start:{line:108,column:8},end:{line:118,column:9}},{start:{line:108,column:8},end:{line:118,column:9}}],line:108},"11":{loc:{start:{line:108,column:12},end:{line:108,column:60}},type:"binary-expr",locations:[{start:{line:108,column:12},end:{line:108,column:20}},{start:{line:108,column:24},end:{line:108,column:42}},{start:{line:108,column:46},end:{line:108,column:60}}],line:108},"12":{loc:{start:{line:115,column:12},end:{line:117,column:13}},type:"if",locations:[{start:{line:115,column:12},end:{line:117,column:13}},{start:{line:115,column:12},end:{line:117,column:13}}],line:115},"13":{loc:{start:{line:123,column:18},end:{line:123,column:33}},type:"default-arg",locations:[{start:{line:123,column:29},end:{line:123,column:33}}],line:123},"14":{loc:{start:{line:133,column:12},end:{line:139,column:13}},type:"if",locations:[{start:{line:133,column:12},end:{line:139,column:13}},{start:{line:133,column:12},end:{line:139,column:13}}],line:133},"15":{loc:{start:{line:136,column:30},end:{line:136,column:89}},type:"cond-expr",locations:[{start:{line:136,column:47},end:{line:136,column:82}},{start:{line:136,column:85},end:{line:136,column:89}}],line:136},"16":{loc:{start:{line:138,column:30},end:{line:138,column:69}},type:"cond-expr",locations:[{start:{line:138,column:48},end:{line:138,column:53}},{start:{line:138,column:56},end:{line:138,column:69}}],line:138},"17":{loc:{start:{line:146,column:8},end:{line:148,column:9}},type:"if",locations:[{start:{line:146,column:8},end:{line:148,column:9}},{start:{line:146,column:8},end:{line:148,column:9}}],line:146},"18":{loc:{start:{line:158,column:8},end:{line:164,column:9}},type:"if",locations:[{start:{line:158,column:8},end:{line:164,column:9}},{start:{line:158,column:8},end:{line:164,column:9}}],line:158},"19":{loc:{start:{line:160,column:16},end:{line:162,column:17}},type:"if",locations:[{start:{line:160,column:16},end:{line:162,column:17}},{start:{line:160,column:16},end:{line:162,column:17}}],line:160},"20":{loc:{start:{line:198,column:19},end:{line:198,column:56}},type:"binary-expr",locations:[{start:{line:198,column:19},end:{line:198,column:30}},{start:{line:198,column:34},end:{line:198,column:56}}],line:198}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},b:{"0":[0,0],"1":[0],"2":[0,0],"3":[0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0],"9":[0,0],"10":[0,0],"11":[0,0,0],"12":[0,0],"13":[0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"929c3d57ae9a8b07ee77117d193cd22596d16b90"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_f4i8i5mrb=function(){return actualCoverage;};}return actualCoverage;}cov_f4i8i5mrb();const{mapValues,map,reduce,escape,isObject,isEmpty,forEach,has}=(cov_f4i8i5mrb().s[0]++,require('lodash'));const UIStepRunner=(cov_f4i8i5mrb().s[1]++,require('app/core/runners/UIStepRunner'));const JourneyMap=(cov_f4i8i5mrb().s[2]++,require('app/core/JourneyMap'));const mapErrorsToFields=(cov_f4i8i5mrb().s[3]++,require('app/components/error').mapErrorsToFields);const config=(cov_f4i8i5mrb().s[4]++,require('config'));const ServiceMapper=(cov_f4i8i5mrb().s[5]++,require('app/utils/ServiceMapper'));const FeatureToggle=(cov_f4i8i5mrb().s[6]++,require('app/utils/FeatureToggle'));const utils=(cov_f4i8i5mrb().s[7]++,require('app/components/step-utils'));const moment=(cov_f4i8i5mrb().s[8]++,require('moment'));const logger=(cov_f4i8i5mrb().s[9]++,require('app/components/logger'));class Step{static getUrl(){cov_f4i8i5mrb().f[0]++;cov_f4i8i5mrb().s[10]++;throw new ReferenceError('Step must override #url');}get name(){cov_f4i8i5mrb().f[1]++;cov_f4i8i5mrb().s[11]++;return this.constructor.name;}runner(){cov_f4i8i5mrb().f[2]++;cov_f4i8i5mrb().s[12]++;return new UIStepRunner();}get template(){cov_f4i8i5mrb().f[3]++;cov_f4i8i5mrb().s[13]++;if(!this.templatePath){cov_f4i8i5mrb().b[0][0]++;cov_f4i8i5mrb().s[14]++;throw new TypeError(`Step ${this.name} has no template file in its resource folder`);}else{cov_f4i8i5mrb().b[0][1]++;}cov_f4i8i5mrb().s[15]++;return`${this.templatePath}/template`;}get requiredFields(){cov_f4i8i5mrb().f[4]++;cov_f4i8i5mrb().s[16]++;return[];}constructor(steps,section,resourcePath,i18next,schema,language=(cov_f4i8i5mrb().b[1][0]++,'en')){cov_f4i8i5mrb().f[5]++;cov_f4i8i5mrb().s[17]++;this.steps=steps;cov_f4i8i5mrb().s[18]++;this.section=(cov_f4i8i5mrb().b[2][0]++,section)||(cov_f4i8i5mrb().b[2][1]++,null);cov_f4i8i5mrb().s[19]++;this.resourcePath=resourcePath;cov_f4i8i5mrb().s[20]++;this.templatePath=`ui/${resourcePath}`;cov_f4i8i5mrb().s[21]++;this.content=require(`app/resources/${language}/translation/${resourcePath}`);cov_f4i8i5mrb().s[22]++;this.i18next=i18next;}next(req,ctx){cov_f4i8i5mrb().f[6]++;const journeyMap=(cov_f4i8i5mrb().s[23]++,new JourneyMap(req.session.journey));cov_f4i8i5mrb().s[24]++;return journeyMap.nextStep(this,ctx);}nextStepUrl(req,ctx){cov_f4i8i5mrb().f[7]++;cov_f4i8i5mrb().s[25]++;return config.app.basePath+this.next(req,ctx).constructor.getUrl();}getContextData(req,res,featureToggle,fieldsToClearOnPost=(cov_f4i8i5mrb().b[3][0]++,[])){cov_f4i8i5mrb().f[8]++;const session=(cov_f4i8i5mrb().s[26]++,req.session);let ctx=(cov_f4i8i5mrb().s[27]++,{});cov_f4i8i5mrb().s[28]++;Object.assign(ctx,(cov_f4i8i5mrb().b[4][0]++,session.ctx[this.section])||(cov_f4i8i5mrb().b[4][1]++,{}));cov_f4i8i5mrb().s[29]++;ctx.sessionID=req.sessionID;cov_f4i8i5mrb().s[30]++;ctx=Object.assign(ctx,this.parseFields(req.body));cov_f4i8i5mrb().s[31]++;if(req.method==='POST'){cov_f4i8i5mrb().b[5][0]++;cov_f4i8i5mrb().s[32]++;forEach(fieldsToClearOnPost,field=>{cov_f4i8i5mrb().f[9]++;cov_f4i8i5mrb().s[33]++;if(!has(req.body,field)){cov_f4i8i5mrb().b[6][0]++;cov_f4i8i5mrb().s[34]++;delete ctx[field];}else{cov_f4i8i5mrb().b[6][1]++;}});}else{cov_f4i8i5mrb().b[5][1]++;}cov_f4i8i5mrb().s[35]++;ctx=FeatureToggle.appwideToggles(req,ctx,config.featureToggles.appwideToggles);cov_f4i8i5mrb().s[36]++;return ctx;}handleGet(ctx){cov_f4i8i5mrb().f[10]++;cov_f4i8i5mrb().s[37]++;return[ctx];}handlePost(ctx,errors){cov_f4i8i5mrb().f[11]++;cov_f4i8i5mrb().s[38]++;// Set required fields to null if not set
this.requiredFields.forEach(field=>{cov_f4i8i5mrb().f[12]++;cov_f4i8i5mrb().s[39]++;if(!(field in ctx)){cov_f4i8i5mrb().b[7][0]++;cov_f4i8i5mrb().s[40]++;ctx[field]=null;}else{cov_f4i8i5mrb().b[7][1]++;}});cov_f4i8i5mrb().s[41]++;return[ctx,errors];}validate(){cov_f4i8i5mrb().f[13]++;cov_f4i8i5mrb().s[42]++;return[true,[]];}isComplete(){cov_f4i8i5mrb().f[14]++;cov_f4i8i5mrb().s[43]++;return[this.validate()[0],'noProgress'];}generateContent(ctx,formdata,language=(cov_f4i8i5mrb().b[8][0]++,'en')){cov_f4i8i5mrb().f[15]++;cov_f4i8i5mrb().s[44]++;if(!this.content){cov_f4i8i5mrb().b[9][0]++;cov_f4i8i5mrb().s[45]++;throw new ReferenceError(`Step ${this.name} has no content.json in its resource folder`);}else{cov_f4i8i5mrb().b[9][1]++;}const contentCtx=(cov_f4i8i5mrb().s[46]++,Object.assign({},formdata,ctx,this.commonProps));cov_f4i8i5mrb().s[47]++;this.i18next.changeLanguage(language);cov_f4i8i5mrb().s[48]++;this.content=mapValues(this.content,(value,key)=>{cov_f4i8i5mrb().f[16]++;cov_f4i8i5mrb().s[49]++;return this.i18next.t(`${this.resourcePath.replace(/\//g,'.')}.${key}`,contentCtx);});cov_f4i8i5mrb().s[50]++;if((cov_f4i8i5mrb().b[11][0]++,formdata)&&(cov_f4i8i5mrb().b[11][1]++,formdata.serviceId)&&(cov_f4i8i5mrb().b[11][2]++,formdata.actor)){cov_f4i8i5mrb().b[10][0]++;let variableContent;cov_f4i8i5mrb().s[51]++;try{cov_f4i8i5mrb().s[52]++;variableContent=require(`app/resources/${language}/translation/variable/${formdata.serviceId}`)[formdata.actor];}catch(e){cov_f4i8i5mrb().s[53]++;logger().info(`Step ${this.name} has no variable-text.json file in its resource folder for service ${formdata.serviceId}`);}cov_f4i8i5mrb().s[54]++;if(variableContent){cov_f4i8i5mrb().b[12][0]++;cov_f4i8i5mrb().s[55]++;Object.assign(this.content,variableContent[this.section]);}else{cov_f4i8i5mrb().b[12][1]++;}}else{cov_f4i8i5mrb().b[10][1]++;}cov_f4i8i5mrb().s[56]++;return this.content;}commonContent(language=(cov_f4i8i5mrb().b[13][0]++,'en')){cov_f4i8i5mrb().f[17]++;cov_f4i8i5mrb().s[57]++;this.i18next.changeLanguage(language);const common=(cov_f4i8i5mrb().s[58]++,require(`app/resources/${language}/translation/common`));cov_f4i8i5mrb().s[59]++;return mapValues(common,(value,key)=>{cov_f4i8i5mrb().f[18]++;cov_f4i8i5mrb().s[60]++;return this.i18next.t(`common.${key}`);});}generateFields(language,ctx,errors){cov_f4i8i5mrb().f[19]++;let fields=(cov_f4i8i5mrb().s[61]++,mapValues(ctx,(value,key)=>{cov_f4i8i5mrb().f[20]++;let returnValue;cov_f4i8i5mrb().s[62]++;if(key.includes('formattedDate')){cov_f4i8i5mrb().b[14][0]++;const dateName=(cov_f4i8i5mrb().s[63]++,key.split('-')[0]);const date=(cov_f4i8i5mrb().s[64]++,moment(ctx[`${dateName}-day`]+'/'+ctx[`${dateName}-month`]+'/'+ctx[`${dateName}-year`],config.dateFormat).parseZone());cov_f4i8i5mrb().s[65]++;returnValue=date.isValid()?(cov_f4i8i5mrb().b[15][0]++,utils.formattedDate(date,language)):(cov_f4i8i5mrb().b[15][1]++,null);}else{cov_f4i8i5mrb().b[14][1]++;cov_f4i8i5mrb().s[66]++;returnValue=isObject(value)?(cov_f4i8i5mrb().b[16][0]++,value):(cov_f4i8i5mrb().b[16][1]++,escape(value));}cov_f4i8i5mrb().s[67]++;return{value:returnValue,error:false};}));cov_f4i8i5mrb().s[68]++;if(!isEmpty(errors)){cov_f4i8i5mrb().b[17][0]++;cov_f4i8i5mrb().s[69]++;fields=mapErrorsToFields(fields,errors);}else{cov_f4i8i5mrb().b[17][1]++;}cov_f4i8i5mrb().s[70]++;return fields;}// Returns an array of fields which do not need to be parsed into integers
nonIntegerFields(){cov_f4i8i5mrb().f[21]++;cov_f4i8i5mrb().s[71]++;return[];}parseFields(fields){cov_f4i8i5mrb().f[22]++;cov_f4i8i5mrb().s[72]++;if(fields){cov_f4i8i5mrb().b[18][0]++;cov_f4i8i5mrb().s[73]++;Object.keys(fields).forEach(field=>{cov_f4i8i5mrb().f[23]++;cov_f4i8i5mrb().s[74]++;if(!this.nonIntegerFields().includes(field)){cov_f4i8i5mrb().b[19][0]++;cov_f4i8i5mrb().s[75]++;fields[field]=parseInt(fields[field]);}else{cov_f4i8i5mrb().b[19][1]++;}});}else{cov_f4i8i5mrb().b[18][1]++;}cov_f4i8i5mrb().s[76]++;return fields;}// Returns an array of fields to be ignored by the form data
ignoreFieldsOnPost(){cov_f4i8i5mrb().f[24]++;cov_f4i8i5mrb().s[77]++;return[];}persistFormData(formdata,sessionID,req){cov_f4i8i5mrb().f[25]++;const token=(cov_f4i8i5mrb().s[78]++,req.session.token);const correlationId=(cov_f4i8i5mrb().s[79]++,req.session.correlationId);const formData=(cov_f4i8i5mrb().s[80]++,ServiceMapper.map('FormData',[config.services.pcqBackend.url,sessionID]));// Set the completed date
cov_f4i8i5mrb().s[81]++;formdata.completedDate=moment().toISOString();cov_f4i8i5mrb().s[82]++;return formData.post(token,correlationId,formdata);}action(ctx,formdata){cov_f4i8i5mrb().f[26]++;cov_f4i8i5mrb().s[83]++;delete ctx.sessionID;cov_f4i8i5mrb().s[84]++;delete ctx.featureToggles;cov_f4i8i5mrb().s[85]++;delete ctx._csrf;// We delete the optOut flag (if exists) in case the user had opted out but changed their mind.
cov_f4i8i5mrb().s[86]++;delete formdata.optOut;cov_f4i8i5mrb().s[87]++;return[ctx,formdata];}anySoftStops(formdata,ctx){cov_f4i8i5mrb().f[27]++;const softStopsList=(cov_f4i8i5mrb().s[88]++,map(this.steps,step=>{cov_f4i8i5mrb().f[28]++;cov_f4i8i5mrb().s[89]++;return step.isSoftStop(formdata,ctx);}));cov_f4i8i5mrb().s[90]++;return reduce(softStopsList,(accumulator,nextElement)=>{cov_f4i8i5mrb().f[29]++;cov_f4i8i5mrb().s[91]++;return(cov_f4i8i5mrb().b[20][0]++,accumulator)||(cov_f4i8i5mrb().b[20][1]++,nextElement.isSoftStop);},false);}isSoftStop(){cov_f4i8i5mrb().f[30]++;cov_f4i8i5mrb().s[92]++;return{'stepName':this.constructor.name,'isSoftStop':false};}setHardStop(ctx,reason){cov_f4i8i5mrb().f[31]++;cov_f4i8i5mrb().s[93]++;ctx.stopReason=reason;}renderPage(res,html){cov_f4i8i5mrb().f[32]++;cov_f4i8i5mrb().s[94]++;res.send(html);}}cov_f4i8i5mrb().s[95]++;module.exports=Step;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYXBWYWx1ZXMiLCJtYXAiLCJyZWR1Y2UiLCJlc2NhcGUiLCJpc09iamVjdCIsImlzRW1wdHkiLCJmb3JFYWNoIiwiaGFzIiwicmVxdWlyZSIsIlVJU3RlcFJ1bm5lciIsIkpvdXJuZXlNYXAiLCJtYXBFcnJvcnNUb0ZpZWxkcyIsImNvbmZpZyIsIlNlcnZpY2VNYXBwZXIiLCJGZWF0dXJlVG9nZ2xlIiwidXRpbHMiLCJtb21lbnQiLCJsb2dnZXIiLCJTdGVwIiwiZ2V0VXJsIiwiUmVmZXJlbmNlRXJyb3IiLCJuYW1lIiwiY29uc3RydWN0b3IiLCJydW5uZXIiLCJ0ZW1wbGF0ZSIsInRlbXBsYXRlUGF0aCIsIlR5cGVFcnJvciIsInJlcXVpcmVkRmllbGRzIiwic3RlcHMiLCJzZWN0aW9uIiwicmVzb3VyY2VQYXRoIiwiaTE4bmV4dCIsInNjaGVtYSIsImxhbmd1YWdlIiwiY29udGVudCIsIm5leHQiLCJyZXEiLCJjdHgiLCJqb3VybmV5TWFwIiwic2Vzc2lvbiIsImpvdXJuZXkiLCJuZXh0U3RlcCIsIm5leHRTdGVwVXJsIiwiYXBwIiwiYmFzZVBhdGgiLCJnZXRDb250ZXh0RGF0YSIsInJlcyIsImZlYXR1cmVUb2dnbGUiLCJmaWVsZHNUb0NsZWFyT25Qb3N0IiwiT2JqZWN0IiwiYXNzaWduIiwic2Vzc2lvbklEIiwicGFyc2VGaWVsZHMiLCJib2R5IiwibWV0aG9kIiwiZmllbGQiLCJhcHB3aWRlVG9nZ2xlcyIsImZlYXR1cmVUb2dnbGVzIiwiaGFuZGxlR2V0IiwiaGFuZGxlUG9zdCIsImVycm9ycyIsInZhbGlkYXRlIiwiaXNDb21wbGV0ZSIsImdlbmVyYXRlQ29udGVudCIsImZvcm1kYXRhIiwiY29udGVudEN0eCIsImNvbW1vblByb3BzIiwiY2hhbmdlTGFuZ3VhZ2UiLCJ2YWx1ZSIsImtleSIsInQiLCJyZXBsYWNlIiwic2VydmljZUlkIiwiYWN0b3IiLCJ2YXJpYWJsZUNvbnRlbnQiLCJlIiwiaW5mbyIsImNvbW1vbkNvbnRlbnQiLCJjb21tb24iLCJnZW5lcmF0ZUZpZWxkcyIsImZpZWxkcyIsInJldHVyblZhbHVlIiwiaW5jbHVkZXMiLCJkYXRlTmFtZSIsInNwbGl0IiwiZGF0ZSIsImRhdGVGb3JtYXQiLCJwYXJzZVpvbmUiLCJpc1ZhbGlkIiwiZm9ybWF0dGVkRGF0ZSIsImVycm9yIiwibm9uSW50ZWdlckZpZWxkcyIsImtleXMiLCJwYXJzZUludCIsImlnbm9yZUZpZWxkc09uUG9zdCIsInBlcnNpc3RGb3JtRGF0YSIsInRva2VuIiwiY29ycmVsYXRpb25JZCIsImZvcm1EYXRhIiwic2VydmljZXMiLCJwY3FCYWNrZW5kIiwidXJsIiwiY29tcGxldGVkRGF0ZSIsInRvSVNPU3RyaW5nIiwicG9zdCIsImFjdGlvbiIsIl9jc3JmIiwib3B0T3V0IiwiYW55U29mdFN0b3BzIiwic29mdFN0b3BzTGlzdCIsInN0ZXAiLCJpc1NvZnRTdG9wIiwiYWNjdW11bGF0b3IiLCJuZXh0RWxlbWVudCIsInNldEhhcmRTdG9wIiwicmVhc29uIiwic3RvcFJlYXNvbiIsInJlbmRlclBhZ2UiLCJodG1sIiwic2VuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJTdGVwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3Qge21hcFZhbHVlcywgbWFwLCByZWR1Y2UsIGVzY2FwZSwgaXNPYmplY3QsIGlzRW1wdHksIGZvckVhY2gsIGhhc30gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IFVJU3RlcFJ1bm5lciA9IHJlcXVpcmUoJ2FwcC9jb3JlL3J1bm5lcnMvVUlTdGVwUnVubmVyJyk7XG5jb25zdCBKb3VybmV5TWFwID0gcmVxdWlyZSgnYXBwL2NvcmUvSm91cm5leU1hcCcpO1xuY29uc3QgbWFwRXJyb3JzVG9GaWVsZHMgPSByZXF1aXJlKCdhcHAvY29tcG9uZW50cy9lcnJvcicpLm1hcEVycm9yc1RvRmllbGRzO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnY29uZmlnJyk7XG5jb25zdCBTZXJ2aWNlTWFwcGVyID0gcmVxdWlyZSgnYXBwL3V0aWxzL1NlcnZpY2VNYXBwZXInKTtcbmNvbnN0IEZlYXR1cmVUb2dnbGUgPSByZXF1aXJlKCdhcHAvdXRpbHMvRmVhdHVyZVRvZ2dsZScpO1xuY29uc3QgdXRpbHMgPSByZXF1aXJlKCdhcHAvY29tcG9uZW50cy9zdGVwLXV0aWxzJyk7XG5jb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbmNvbnN0IGxvZ2dlciA9IHJlcXVpcmUoJ2FwcC9jb21wb25lbnRzL2xvZ2dlcicpO1xuXG5jbGFzcyBTdGVwIHtcblxuICAgIHN0YXRpYyBnZXRVcmwoKSB7XG4gICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignU3RlcCBtdXN0IG92ZXJyaWRlICN1cmwnKTtcbiAgICB9XG5cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB9XG5cbiAgICBydW5uZXIoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVUlTdGVwUnVubmVyKCk7XG4gICAgfVxuXG4gICAgZ2V0IHRlbXBsYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMudGVtcGxhdGVQYXRoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBTdGVwICR7dGhpcy5uYW1lfSBoYXMgbm8gdGVtcGxhdGUgZmlsZSBpbiBpdHMgcmVzb3VyY2UgZm9sZGVyYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke3RoaXMudGVtcGxhdGVQYXRofS90ZW1wbGF0ZWA7XG4gICAgfVxuXG4gICAgZ2V0IHJlcXVpcmVkRmllbGRzKCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3Ioc3RlcHMsIHNlY3Rpb24sIHJlc291cmNlUGF0aCwgaTE4bmV4dCwgc2NoZW1hLCBsYW5ndWFnZSA9ICdlbicpIHtcbiAgICAgICAgdGhpcy5zdGVwcyA9IHN0ZXBzO1xuICAgICAgICB0aGlzLnNlY3Rpb24gPSBzZWN0aW9uIHx8IG51bGw7XG4gICAgICAgIHRoaXMucmVzb3VyY2VQYXRoID0gcmVzb3VyY2VQYXRoO1xuICAgICAgICB0aGlzLnRlbXBsYXRlUGF0aCA9IGB1aS8ke3Jlc291cmNlUGF0aH1gO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSByZXF1aXJlKGBhcHAvcmVzb3VyY2VzLyR7bGFuZ3VhZ2V9L3RyYW5zbGF0aW9uLyR7cmVzb3VyY2VQYXRofWApO1xuICAgICAgICB0aGlzLmkxOG5leHQgPSBpMThuZXh0O1xuICAgIH1cblxuICAgIG5leHQocmVxLCBjdHgpIHtcbiAgICAgICAgY29uc3Qgam91cm5leU1hcCA9IG5ldyBKb3VybmV5TWFwKHJlcS5zZXNzaW9uLmpvdXJuZXkpO1xuICAgICAgICByZXR1cm4gam91cm5leU1hcC5uZXh0U3RlcCh0aGlzLCBjdHgpO1xuICAgIH1cblxuICAgIG5leHRTdGVwVXJsKHJlcSwgY3R4KSB7XG4gICAgICAgIHJldHVybiBjb25maWcuYXBwLmJhc2VQYXRoICsgdGhpcy5uZXh0KHJlcSwgY3R4KS5jb25zdHJ1Y3Rvci5nZXRVcmwoKTtcbiAgICB9XG5cbiAgICBnZXRDb250ZXh0RGF0YShyZXEsIHJlcywgZmVhdHVyZVRvZ2dsZSwgZmllbGRzVG9DbGVhck9uUG9zdCA9IFtdKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSByZXEuc2Vzc2lvbjtcbiAgICAgICAgbGV0IGN0eCA9IHt9O1xuICAgICAgICBPYmplY3QuYXNzaWduKGN0eCwgc2Vzc2lvbi5jdHhbdGhpcy5zZWN0aW9uXSB8fCB7fSk7XG4gICAgICAgIGN0eC5zZXNzaW9uSUQgPSByZXEuc2Vzc2lvbklEO1xuICAgICAgICBjdHggPSBPYmplY3QuYXNzaWduKGN0eCwgdGhpcy5wYXJzZUZpZWxkcyhyZXEuYm9keSkpO1xuXG4gICAgICAgIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAgICAgICAgIGZvckVhY2goZmllbGRzVG9DbGVhck9uUG9zdCwgKGZpZWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXMocmVxLmJvZHksIGZpZWxkKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgY3R4W2ZpZWxkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eCA9IEZlYXR1cmVUb2dnbGUuYXBwd2lkZVRvZ2dsZXMocmVxLCBjdHgsIGNvbmZpZy5mZWF0dXJlVG9nZ2xlcy5hcHB3aWRlVG9nZ2xlcyk7XG5cbiAgICAgICAgcmV0dXJuIGN0eDtcbiAgICB9XG5cbiAgICBoYW5kbGVHZXQoY3R4KSB7XG4gICAgICAgIHJldHVybiBbY3R4XTtcbiAgICB9XG5cbiAgICBoYW5kbGVQb3N0KGN0eCwgZXJyb3JzKSB7XG4gICAgICAgIC8vIFNldCByZXF1aXJlZCBmaWVsZHMgdG8gbnVsbCBpZiBub3Qgc2V0XG4gICAgICAgIHRoaXMucmVxdWlyZWRGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICAgICAgICBpZiAoIShmaWVsZCBpbiBjdHgpKSB7XG4gICAgICAgICAgICAgICAgY3R4W2ZpZWxkXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gW2N0eCwgZXJyb3JzXTtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIFt0cnVlLCBbXV07XG4gICAgfVxuXG4gICAgaXNDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLnZhbGlkYXRlKClbMF0sICdub1Byb2dyZXNzJ107XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVDb250ZW50KGN0eCwgZm9ybWRhdGEsIGxhbmd1YWdlID0gJ2VuJykge1xuICAgICAgICBpZiAoIXRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKGBTdGVwICR7dGhpcy5uYW1lfSBoYXMgbm8gY29udGVudC5qc29uIGluIGl0cyByZXNvdXJjZSBmb2xkZXJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250ZW50Q3R4ID0gT2JqZWN0LmFzc2lnbih7fSwgZm9ybWRhdGEsIGN0eCwgdGhpcy5jb21tb25Qcm9wcyk7XG4gICAgICAgIHRoaXMuaTE4bmV4dC5jaGFuZ2VMYW5ndWFnZShsYW5ndWFnZSk7XG5cbiAgICAgICAgdGhpcy5jb250ZW50ID0gbWFwVmFsdWVzKHRoaXMuY29udGVudCwgKHZhbHVlLCBrZXkpID0+IHRoaXMuaTE4bmV4dC50KGAke3RoaXMucmVzb3VyY2VQYXRoLnJlcGxhY2UoL1xcLy9nLCAnLicpfS4ke2tleX1gLCBjb250ZW50Q3R4KSk7XG5cbiAgICAgICAgaWYgKGZvcm1kYXRhICYmIGZvcm1kYXRhLnNlcnZpY2VJZCAmJiBmb3JtZGF0YS5hY3Rvcikge1xuICAgICAgICAgICAgbGV0IHZhcmlhYmxlQ29udGVudDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVDb250ZW50ID0gcmVxdWlyZShgYXBwL3Jlc291cmNlcy8ke2xhbmd1YWdlfS90cmFuc2xhdGlvbi92YXJpYWJsZS8ke2Zvcm1kYXRhLnNlcnZpY2VJZH1gKVtmb3JtZGF0YS5hY3Rvcl07XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyKCkuaW5mbyhgU3RlcCAke3RoaXMubmFtZX0gaGFzIG5vIHZhcmlhYmxlLXRleHQuanNvbiBmaWxlIGluIGl0cyByZXNvdXJjZSBmb2xkZXIgZm9yIHNlcnZpY2UgJHtmb3JtZGF0YS5zZXJ2aWNlSWR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFyaWFibGVDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRlbnQsIHZhcmlhYmxlQ29udGVudFt0aGlzLnNlY3Rpb25dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQ7XG4gICAgfVxuXG4gICAgY29tbW9uQ29udGVudChsYW5ndWFnZSA9ICdlbicpIHtcbiAgICAgICAgdGhpcy5pMThuZXh0LmNoYW5nZUxhbmd1YWdlKGxhbmd1YWdlKTtcbiAgICAgICAgY29uc3QgY29tbW9uID0gcmVxdWlyZShgYXBwL3Jlc291cmNlcy8ke2xhbmd1YWdlfS90cmFuc2xhdGlvbi9jb21tb25gKTtcbiAgICAgICAgcmV0dXJuIG1hcFZhbHVlcyhjb21tb24sICh2YWx1ZSwga2V5KSA9PiB0aGlzLmkxOG5leHQudChgY29tbW9uLiR7a2V5fWApKTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUZpZWxkcyhsYW5ndWFnZSwgY3R4LCBlcnJvcnMpIHtcbiAgICAgICAgbGV0IGZpZWxkcyA9IG1hcFZhbHVlcyhjdHgsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBsZXQgcmV0dXJuVmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChrZXkuaW5jbHVkZXMoJ2Zvcm1hdHRlZERhdGUnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVOYW1lID0ga2V5LnNwbGl0KCctJylbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG1vbWVudChjdHhbYCR7ZGF0ZU5hbWV9LWRheWBdICsgJy8nICsgY3R4W2Ake2RhdGVOYW1lfS1tb250aGBdICsgJy8nICsgY3R4W2Ake2RhdGVOYW1lfS15ZWFyYF0sIGNvbmZpZy5kYXRlRm9ybWF0KS5wYXJzZVpvbmUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IGRhdGUuaXNWYWxpZCgpID8gdXRpbHMuZm9ybWF0dGVkRGF0ZShkYXRlLCBsYW5ndWFnZSkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IGlzT2JqZWN0KHZhbHVlKSA/IHZhbHVlIDogZXNjYXBlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmV0dXJuVmFsdWUsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFpc0VtcHR5KGVycm9ycykpIHtcbiAgICAgICAgICAgIGZpZWxkcyA9IG1hcEVycm9yc1RvRmllbGRzKGZpZWxkcywgZXJyb3JzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmllbGRzO1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgYW4gYXJyYXkgb2YgZmllbGRzIHdoaWNoIGRvIG5vdCBuZWVkIHRvIGJlIHBhcnNlZCBpbnRvIGludGVnZXJzXG4gICAgbm9uSW50ZWdlckZpZWxkcygpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHBhcnNlRmllbGRzKGZpZWxkcykge1xuICAgICAgICBpZiAoZmllbGRzKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhmaWVsZHMpLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5ub25JbnRlZ2VyRmllbGRzKCkuaW5jbHVkZXMoZmllbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkc1tmaWVsZF0gPSBwYXJzZUludChmaWVsZHNbZmllbGRdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmllbGRzO1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgYW4gYXJyYXkgb2YgZmllbGRzIHRvIGJlIGlnbm9yZWQgYnkgdGhlIGZvcm0gZGF0YVxuICAgIGlnbm9yZUZpZWxkc09uUG9zdCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHBlcnNpc3RGb3JtRGF0YShmb3JtZGF0YSwgc2Vzc2lvbklELCByZXEpIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuc2Vzc2lvbi50b2tlbjtcbiAgICAgICAgY29uc3QgY29ycmVsYXRpb25JZCA9IHJlcS5zZXNzaW9uLmNvcnJlbGF0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gU2VydmljZU1hcHBlci5tYXAoXG4gICAgICAgICAgICAnRm9ybURhdGEnLFxuICAgICAgICAgICAgW2NvbmZpZy5zZXJ2aWNlcy5wY3FCYWNrZW5kLnVybCwgc2Vzc2lvbklEXVxuICAgICAgICApO1xuICAgICAgICAvLyBTZXQgdGhlIGNvbXBsZXRlZCBkYXRlXG4gICAgICAgIGZvcm1kYXRhLmNvbXBsZXRlZERhdGUgPSBtb21lbnQoKS50b0lTT1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiBmb3JtRGF0YS5wb3N0KHRva2VuLCBjb3JyZWxhdGlvbklkLCBmb3JtZGF0YSk7XG4gICAgfVxuXG4gICAgYWN0aW9uKGN0eCwgZm9ybWRhdGEpIHtcbiAgICAgICAgZGVsZXRlIGN0eC5zZXNzaW9uSUQ7XG4gICAgICAgIGRlbGV0ZSBjdHguZmVhdHVyZVRvZ2dsZXM7XG4gICAgICAgIGRlbGV0ZSBjdHguX2NzcmY7XG4gICAgICAgIC8vIFdlIGRlbGV0ZSB0aGUgb3B0T3V0IGZsYWcgKGlmIGV4aXN0cykgaW4gY2FzZSB0aGUgdXNlciBoYWQgb3B0ZWQgb3V0IGJ1dCBjaGFuZ2VkIHRoZWlyIG1pbmQuXG4gICAgICAgIGRlbGV0ZSBmb3JtZGF0YS5vcHRPdXQ7XG4gICAgICAgIHJldHVybiBbY3R4LCBmb3JtZGF0YV07XG4gICAgfVxuXG4gICAgYW55U29mdFN0b3BzKGZvcm1kYXRhLCBjdHgpIHtcbiAgICAgICAgY29uc3Qgc29mdFN0b3BzTGlzdCA9IG1hcCh0aGlzLnN0ZXBzLCBzdGVwID0+IHN0ZXAuaXNTb2Z0U3RvcChmb3JtZGF0YSwgY3R4KSk7XG4gICAgICAgIHJldHVybiByZWR1Y2Uoc29mdFN0b3BzTGlzdCwgKGFjY3VtdWxhdG9yLCBuZXh0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yIHx8IG5leHRFbGVtZW50LmlzU29mdFN0b3A7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpc1NvZnRTdG9wKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ3N0ZXBOYW1lJzogdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLFxuICAgICAgICAgICAgJ2lzU29mdFN0b3AnOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNldEhhcmRTdG9wKGN0eCwgcmVhc29uKSB7XG4gICAgICAgIGN0eC5zdG9wUmVhc29uID0gcmVhc29uO1xuICAgIH1cblxuICAgIHJlbmRlclBhZ2UocmVzLCBodG1sKSB7XG4gICAgICAgIHJlcy5zZW5kKGh0bWwpO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTdGVwO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxhLGc2ZkFlWTt5RkFiWixLQUFNLENBQUNBLFNBQUQsQ0FBWUMsR0FBWixDQUFpQkMsTUFBakIsQ0FBeUJDLE1BQXpCLENBQWlDQyxRQUFqQyxDQUEyQ0MsT0FBM0MsQ0FBb0RDLE9BQXBELENBQTZEQyxHQUE3RCwwQkFBb0VDLE9BQU8sQ0FBQyxRQUFELENBQTNFLENBQU4sQ0FDQSxLQUFNQyxhQUFZLHlCQUFHRCxPQUFPLENBQUMsK0JBQUQsQ0FBVixDQUFsQixDQUNBLEtBQU1FLFdBQVUseUJBQUdGLE9BQU8sQ0FBQyxxQkFBRCxDQUFWLENBQWhCLENBQ0EsS0FBTUcsa0JBQWlCLHlCQUFHSCxPQUFPLENBQUMsc0JBQUQsQ0FBUCxDQUFnQ0csaUJBQW5DLENBQXZCLENBQ0EsS0FBTUMsT0FBTSx5QkFBR0osT0FBTyxDQUFDLFFBQUQsQ0FBVixDQUFaLENBQ0EsS0FBTUssY0FBYSx5QkFBR0wsT0FBTyxDQUFDLHlCQUFELENBQVYsQ0FBbkIsQ0FDQSxLQUFNTSxjQUFhLHlCQUFHTixPQUFPLENBQUMseUJBQUQsQ0FBVixDQUFuQixDQUNBLEtBQU1PLE1BQUsseUJBQUdQLE9BQU8sQ0FBQywyQkFBRCxDQUFWLENBQVgsQ0FDQSxLQUFNUSxPQUFNLHlCQUFHUixPQUFPLENBQUMsUUFBRCxD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