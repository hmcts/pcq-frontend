'use strict';function cov_5t1dgv26q(){var path="/Users/bradleywadsworth/development/reform/pcq-frontend/app/core/JourneyMap.js";var hash="c4fbff8451d98b2d0ab3e4fe8bff1bc717c621aa";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/bradleywadsworth/development/reform/pcq-frontend/app/core/JourneyMap.js",statementMap:{"0":{start:{line:3,column:14},end:{line:3,column:31}},"1":{start:{line:4,column:14},end:{line:4,column:49}},"2":{start:{line:8,column:8},end:{line:8,column:31}},"3":{start:{line:9,column:8},end:{line:11,column:9}},"4":{start:{line:10,column:12},end:{line:10,column:45}},"5":{start:{line:15,column:22},end:{line:17,column:68}},"6":{start:{line:17,column:30},end:{line:17,column:67}},"7":{start:{line:18,column:8},end:{line:18,column:50}},"8":{start:{line:22,column:27},end:{line:22,column:66}},"9":{start:{line:23,column:8},end:{line:25,column:9}},"10":{start:{line:24,column:12},end:{line:24,column:79}},"11":{start:{line:27,column:8},end:{line:27,column:94}},"12":{start:{line:31,column:25},end:{line:31,column:91}},"13":{start:{line:31,column:56},end:{line:31,column:90}},"14":{start:{line:32,column:8},end:{line:46,column:9}},"15":{start:{line:33,column:12},end:{line:44,column:13}},"16":{start:{line:43,column:16},end:{line:43,column:73}},"17":{start:{line:45,column:12},end:{line:45,column:59}},"18":{start:{line:47,column:8},end:{line:47,column:35}},"19":{start:{line:51,column:8},end:{line:51,column:37}},"20":{start:{line:55,column:0},end:{line:55,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:25},end:{line:12,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:37},end:{line:19,column:5}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:30},end:{line:17,column:67}},line:17},"3":{name:"(anonymous_3)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:31},end:{line:28,column:5}},line:21},"4":{name:"(anonymous_4)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:40},end:{line:48,column:5}},line:30},"5":{name:"(anonymous_5)",decl:{start:{line:31,column:44},end:{line:31,column:45}},loc:{start:{line:31,column:56},end:{line:31,column:90}},line:31},"6":{name:"(anonymous_6)",decl:{start:{line:50,column:4},end:{line:50,column:5}},loc:{start:{line:50,column:15},end:{line:52,column:5}},line:50}},branchMap:{"0":{loc:{start:{line:9,column:8},end:{line:11,column:9}},type:"if",locations:[{start:{line:9,column:8},end:{line:11,column:9}},{start:{line:9,column:8},end:{line:11,column:9}}],line:9},"1":{loc:{start:{line:18,column:15},end:{line:18,column:49}},type:"cond-expr",locations:[{start:{line:18,column:23},end:{line:18,column:35}},{start:{line:18,column:38},end:{line:18,column:49}}],line:18},"2":{loc:{start:{line:23,column:8},end:{line:25,column:9}},type:"if",locations:[{start:{line:23,column:8},end:{line:25,column:9}},{start:{line:23,column:8},end:{line:25,column:9}}],line:23},"3":{loc:{start:{line:23,column:12},end:{line:23,column:69}},type:"binary-expr",locations:[{start:{line:23,column:12},end:{line:23,column:33}},{start:{line:23,column:37},end:{line:23,column:69}}],line:23},"4":{loc:{start:{line:27,column:15},end:{line:27,column:93}},type:"cond-expr",locations:[{start:{line:27,column:31},end:{line:27,column:71}},{start:{line:27,column:74},end:{line:27,column:93}}],line:27},"5":{loc:{start:{line:32,column:8},end:{line:46,column:9}},type:"if",locations:[{start:{line:32,column:8},end:{line:46,column:9}},{start:{line:32,column:8},end:{line:46,column:9}}],line:32},"6":{loc:{start:{line:33,column:12},end:{line:44,column:13}},type:"if",locations:[{start:{line:33,column:12},end:{line:44,column:13}},{start:{line:33,column:12},end:{line:44,column:13}}],line:33}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4fbff8451d98b2d0ab3e4fe8bff1bc717c621aa"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_5t1dgv26q=function(){return actualCoverage;};}return actualCoverage;}cov_5t1dgv26q();let{get}=(cov_5t1dgv26q().s[0]++,require('lodash'));let steps=(cov_5t1dgv26q().s[1]++,require('app/core/initSteps').steps);class JourneyMap{constructor(journey){cov_5t1dgv26q().f[0]++;cov_5t1dgv26q().s[2]++;this.journey=journey;cov_5t1dgv26q().s[3]++;if(journey.skipList){cov_5t1dgv26q().b[0][0]++;cov_5t1dgv26q().s[4]++;this.skipList=journey.skipList;}else{cov_5t1dgv26q().b[0][1]++;}}nextOptionStep(currentStep,ctx){cov_5t1dgv26q().f[1]++;let match=(cov_5t1dgv26q().s[5]++,currentStep.nextStepOptions(ctx).options.find(option=>{cov_5t1dgv26q().f[2]++;cov_5t1dgv26q().s[6]++;return get(ctx,option.key)===option.value;}));cov_5t1dgv26q().s[7]++;return match?(cov_5t1dgv26q().b[1][0]++,match.choice):(cov_5t1dgv26q().b[1][1]++,'otherwise');}nextStep(currentStep,ctx){cov_5t1dgv26q().f[3]++;let nextStepName=(cov_5t1dgv26q().s[8]++,this.journey.stepList[currentStep.name]);cov_5t1dgv26q().s[9]++;if((cov_5t1dgv26q().b[3][0]++,nextStepName!==null)&&(cov_5t1dgv26q().b[3][1]++,typeof nextStepName==='object')){cov_5t1dgv26q().b[2][0]++;cov_5t1dgv26q().s[10]++;nextStepName=nextStepName[this.nextOptionStep(currentStep,ctx)];}else{cov_5t1dgv26q().b[2][1]++;}cov_5t1dgv26q().s[11]++;return this.skipList?(cov_5t1dgv26q().b[4][0]++,this.skipListNextStep(nextStepName,ctx)):(cov_5t1dgv26q().b[4][1]++,steps[nextStepName]);}skipListNextStep(nextStepName,ctx){cov_5t1dgv26q().f[4]++;let skipStep=(cov_5t1dgv26q().s[12]++,this.skipList.find(skipItem=>{cov_5t1dgv26q().f[5]++;cov_5t1dgv26q().s[13]++;return skipItem.stepName===nextStepName;}));cov_5t1dgv26q().s[14]++;if(skipStep){cov_5t1dgv26q().b[5][0]++;cov_5t1dgv26q().s[15]++;if(skipStep.nextStepName){cov_5t1dgv26q().b[6][0]++;cov_5t1dgv26q().s[16]++;/*
                 * If the skip step specifies the next step we rerun the function on that 'next step' to process any
                 * linked skip steps.
                 *
                 * For example:
                 * {stepName: 'ApplicantDateOfBirth', nextStepName: 'ApplicantSex'},
                 * {stepName: 'ApplicantSex', nextStepName: 'ApplicantSexualOrientation'}
                 */return this.skipListNextStep(skipStep.nextStepName,ctx);}else{cov_5t1dgv26q().b[6][1]++;}cov_5t1dgv26q().s[17]++;return this.nextStep(steps[nextStepName],ctx);}else{cov_5t1dgv26q().b[5][1]++;}cov_5t1dgv26q().s[18]++;return steps[nextStepName];}stepList(){cov_5t1dgv26q().f[6]++;cov_5t1dgv26q().s[19]++;return this.journey.stepList;}}cov_5t1dgv26q().s[20]++;module.exports=JourneyMap;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXQiLCJyZXF1aXJlIiwic3RlcHMiLCJKb3VybmV5TWFwIiwiY29uc3RydWN0b3IiLCJqb3VybmV5Iiwic2tpcExpc3QiLCJuZXh0T3B0aW9uU3RlcCIsImN1cnJlbnRTdGVwIiwiY3R4IiwibWF0Y2giLCJuZXh0U3RlcE9wdGlvbnMiLCJvcHRpb25zIiwiZmluZCIsIm9wdGlvbiIsImtleSIsInZhbHVlIiwiY2hvaWNlIiwibmV4dFN0ZXAiLCJuZXh0U3RlcE5hbWUiLCJzdGVwTGlzdCIsIm5hbWUiLCJza2lwTGlzdE5leHRTdGVwIiwic2tpcFN0ZXAiLCJza2lwSXRlbSIsInN0ZXBOYW1lIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkpvdXJuZXlNYXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5sZXQgICB7Z2V0fSA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xubGV0ICAgc3RlcHMgPSByZXF1aXJlKCdhcHAvY29yZS9pbml0U3RlcHMnKS5zdGVwcztcblxuY2xhc3MgSm91cm5leU1hcCB7XG4gICAgY29uc3RydWN0b3Ioam91cm5leSkge1xuICAgICAgICB0aGlzLmpvdXJuZXkgPSBqb3VybmV5O1xuICAgICAgICBpZiAoam91cm5leS5za2lwTGlzdCkge1xuICAgICAgICAgICAgdGhpcy5za2lwTGlzdCA9IGpvdXJuZXkuc2tpcExpc3Q7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0T3B0aW9uU3RlcChjdXJyZW50U3RlcCwgY3R4KSB7XG4gICAgICAgIGxldCAgIG1hdGNoID0gY3VycmVudFN0ZXBcbiAgICAgICAgICAgIC5uZXh0U3RlcE9wdGlvbnMoY3R4KS5vcHRpb25zXG4gICAgICAgICAgICAuZmluZCgob3B0aW9uKSA9PiBnZXQoY3R4LCBvcHRpb24ua2V5KSA9PT0gb3B0aW9uLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2guY2hvaWNlIDogJ290aGVyd2lzZSc7XG4gICAgfVxuXG4gICAgbmV4dFN0ZXAoY3VycmVudFN0ZXAsIGN0eCkge1xuICAgICAgICBsZXQgbmV4dFN0ZXBOYW1lID0gdGhpcy5qb3VybmV5LnN0ZXBMaXN0W2N1cnJlbnRTdGVwLm5hbWVdO1xuICAgICAgICBpZiAobmV4dFN0ZXBOYW1lICE9PSBudWxsICYmIHR5cGVvZiBuZXh0U3RlcE5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBuZXh0U3RlcE5hbWUgPSBuZXh0U3RlcE5hbWVbdGhpcy5uZXh0T3B0aW9uU3RlcChjdXJyZW50U3RlcCwgY3R4KV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5za2lwTGlzdCA/IHRoaXMuc2tpcExpc3ROZXh0U3RlcChuZXh0U3RlcE5hbWUsIGN0eCkgOiBzdGVwc1tuZXh0U3RlcE5hbWVdO1xuICAgIH1cblxuICAgIHNraXBMaXN0TmV4dFN0ZXAobmV4dFN0ZXBOYW1lLCBjdHgpIHtcbiAgICAgICAgbGV0ICAgc2tpcFN0ZXAgPSB0aGlzLnNraXBMaXN0LmZpbmQoc2tpcEl0ZW0gPT4gc2tpcEl0ZW0uc3RlcE5hbWUgPT09IG5leHRTdGVwTmFtZSk7XG4gICAgICAgIGlmIChza2lwU3RlcCkge1xuICAgICAgICAgICAgaWYgKHNraXBTdGVwLm5leHRTdGVwTmFtZSkge1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBJZiB0aGUgc2tpcCBzdGVwIHNwZWNpZmllcyB0aGUgbmV4dCBzdGVwIHdlIHJlcnVuIHRoZSBmdW5jdGlvbiBvbiB0aGF0ICduZXh0IHN0ZXAnIHRvIHByb2Nlc3MgYW55XG4gICAgICAgICAgICAgICAgICogbGlua2VkIHNraXAgc3RlcHMuXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBGb3IgZXhhbXBsZTpcbiAgICAgICAgICAgICAgICAgKiB7c3RlcE5hbWU6ICdBcHBsaWNhbnREYXRlT2ZCaXJ0aCcsIG5leHRTdGVwTmFtZTogJ0FwcGxpY2FudFNleCd9LFxuICAgICAgICAgICAgICAgICAqIHtzdGVwTmFtZTogJ0FwcGxpY2FudFNleCcsIG5leHRTdGVwTmFtZTogJ0FwcGxpY2FudFNleHVhbE9yaWVudGF0aW9uJ31cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5za2lwTGlzdE5leHRTdGVwKHNraXBTdGVwLm5leHRTdGVwTmFtZSwgY3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5leHRTdGVwKHN0ZXBzW25leHRTdGVwTmFtZV0sIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0ZXBzW25leHRTdGVwTmFtZV07XG4gICAgfVxuXG4gICAgc3RlcExpc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpvdXJuZXkuc3RlcExpc3Q7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEpvdXJuZXlNYXA7XG4iXSwibWFwcGluZ3MiOiJBQUFBLGEsbzJJQWVZO3lGQWJaLEdBQU0sQ0FBQ0EsR0FBRCwwQkFBUUMsT0FBTyxDQUFDLFFBQUQsQ0FBZixDQUFOLENBQ0EsR0FBTUMsTUFBSyx5QkFBR0QsT0FBTyxDQUFDLG9CQUFELENBQVAsQ0FBOEJDLEtBQWpDLENBQVgsQ0FFQSxLQUFNQyxXQUFXLENBQ2JDLFdBQVcsQ0FBQ0MsT0FBRCxDQUFVLCtDQUNqQixLQUFLQSxPQUFMLENBQWVBLE9BQWYsQ0FEaUIsdUJBRWpCLEdBQUlBLE9BQU8sQ0FBQ0MsUUFBWixDQUFzQixrREFDbEIsS0FBS0EsUUFBTCxDQUFnQkQsT0FBTyxDQUFDQyxRQUF4QixDQUNILENBRkQsZ0NBR0gsQ0FFREMsY0FBYyxDQUFDQyxXQUFELENBQWNDLEdBQWQsQ0FBbUIsd0JBQzdCLEdBQU1DLE1BQUsseUJBQUdGLFdBQVcsQ0FDcEJHLGVBRFMsQ0FDT0YsR0FEUCxFQUNZRyxPQURaLENBRVRDLElBRlMsQ0FFSEMsTUFBRCxFQUFZLHFEQUFBZCxJQUFHLENBQUNTLEdBQUQsQ0FBTUssTUFBTSxDQUFDQyxHQUFiLENBQUgsR0FBeUJELE1BQU0sQ0FBQ0UsS0FBaEMsQ0FBcUMsQ0FGN0MsQ0FBSCxDQUFYLENBRDZCLHVCQUk3QixNQUFPTixNQUFLLDRCQUFHQSxLQUFLLENBQUNPLE1BQVQsNkJBQWtCLFdBQWxCLENBQVosQ0FDSCxDQUVEQyxRQUFRLENBQUNWLFdBQUQsQ0FBY0MsR0FBZCxDQUFtQix3QkFDdkIsR0FBSVUsYUFBWSx5QkFBRyxLQUFLZCxPQUFMLENBQWFlLFFBQWIsQ0FBc0JaLFdBQVcsQ0FBQ2EsSUFBbEMsQ0FBSCxDQUFoQixDQUR1Qix1QkFFdkIsR0FBSSwyQkFBQUYsWUFBWSxHQUFLLElBQWpCLDhCQUF5QixNQUFPQSxhQUFQLEdBQXdCLFFBQWpELENBQUosQ0FBK0QsbURBQzNEQSxZQUFZLENBQUdBLFlBQVksQ0FBQyxLQUFLWixjQUFMLENBQW9CQyxXQUFwQixDQUFpQ0MsR0FBakMsQ0FBRCxDQUEzQixDQUNILENBRkQsZ0NBRnVCLHdCQU12QixNQUFPLE1BQUtILFFBQUwsNEJBQWdCLEtBQUtnQixnQkFBTCxDQUFzQkgsWUFBdEIsQ0FBb0NWLEdBQXBDLENBQWhCLDZCQUEyRFAsS0FBSyxDQUFDaUIsWUFBRCxDQUFoRSxDQUFQLENBQ0gsQ0FFREcsZ0JBQWdCLENBQUNILFlBQUQsQ0FBZVYsR0FBZixDQUFvQix3QkFDaEMsR0FBTWMsU0FBUSwwQkFBRyxLQUFLakIsUUFBTCxDQUFjTyxJQUFkLENBQW1CVyxRQUFRLEVBQUksc0RBQUFBLFNBQVEsQ0FBQ0MsUUFBVCxHQUFzQk4sWUFBdEIsQ0FBa0MsQ0FBakUsQ0FBSCxDQUFkLENBRGdDLHdCQUVoQyxHQUFJSSxRQUFKLENBQWMsbURBQ1YsR0FBSUEsUUFBUSxDQUFDSixZQUFiLENBQTJCLG1EQUV2QjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFDZ0IsTUFBTyxNQUFLRyxnQkFBTCxDQUFzQkMsUUFBUSxDQUFDSixZQUEvQixDQUE2Q1YsR0FBN0MsQ0FBUCxDQUNILENBWEQsZ0NBRFUsd0JBYVYsTUFBTyxNQUFLUyxRQUFMLENBQWNoQixLQUFLLENBQUNpQixZQUFELENBQW5CLENBQW1DVixHQUFuQyxDQUFQLENBQ0gsQ0FkRCxnQ0FGZ0Msd0JBaUJoQyxNQUFPUCxNQUFLLENBQUNpQixZQUFELENBQVosQ0FDSCxDQUVEQyxRQUFRLEVBQUcsZ0RBQ1AsTUFBTyxNQUFLZixPQUFMLENBQWFlLFFBQXBCLENBQ0gsQ0E5Q1ksQyx3QkFpRGpCTSxNQUFNLENBQUNDLE9BQVAsQ0FBaUJ4QixVQUFqQiJ9