'use strict';function cov_1duw1gqklk(){var path="/Users/priyankaverma/IdeaProjects/pcq-frontend/app/components/api-utils.js";var hash="13272b5779518d710f21cbb2dd34170a965df505";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/priyankaverma/IdeaProjects/pcq-frontend/app/components/api-utils.js",statementMap:{"0":{start:{line:3,column:15},end:{line:3,column:55}},"1":{start:{line:4,column:19},end:{line:4,column:36}},"2":{start:{line:5,column:14},end:{line:5,column:35}},"3":{start:{line:6,column:24},end:{line:6,column:52}},"4":{start:{line:7,column:15},end:{line:7,column:32}},"5":{start:{line:9,column:21},end:{line:11,column:1}},"6":{start:{line:10,column:4},end:{line:10,column:43}},"7":{start:{line:13,column:21},end:{line:18,column:1}},"8":{start:{line:14,column:4},end:{line:17,column:6}},"9":{start:{line:20,column:19},end:{line:56,column:1}},"10":{start:{line:21,column:27},end:{line:21,column:75}},"11":{start:{line:23,column:4},end:{line:25,column:5}},"12":{start:{line:24,column:8},end:{line:24,column:48}},"13":{start:{line:27,column:4},end:{line:55,column:7}},"14":{start:{line:28,column:25},end:{line:28,column:51}},"15":{start:{line:29,column:8},end:{line:54,column:15}},"16":{start:{line:31,column:16},end:{line:33,column:17}},"17":{start:{line:32,column:20},end:{line:32,column:57}},"18":{start:{line:34,column:16},end:{line:36,column:17}},"19":{start:{line:35,column:20},end:{line:35,column:42}},"20":{start:{line:37,column:16},end:{line:37,column:45}},"21":{start:{line:38,column:16},end:{line:46,column:23}},"22":{start:{line:40,column:24},end:{line:44,column:25}},"23":{start:{line:41,column:28},end:{line:41,column:64}},"24":{start:{line:43,column:28},end:{line:43,column:47}},"25":{start:{line:45,column:24},end:{line:45,column:58}},"26":{start:{line:49,column:16},end:{line:49,column:30}},"27":{start:{line:52,column:16},end:{line:52,column:39}},"28":{start:{line:53,column:16},end:{line:53,column:35}},"29":{start:{line:58,column:18},end:{line:62,column:1}},"30":{start:{line:59,column:4},end:{line:61,column:27}},"31":{start:{line:59,column:43},end:{line:59,column:53}},"32":{start:{line:60,column:22},end:{line:60,column:26}},"33":{start:{line:61,column:22},end:{line:61,column:25}},"34":{start:{line:64,column:18},end:{line:68,column:1}},"35":{start:{line:65,column:4},end:{line:67,column:27}},"36":{start:{line:65,column:43},end:{line:65,column:53}},"37":{start:{line:66,column:22},end:{line:66,column:26}},"38":{start:{line:67,column:22},end:{line:67,column:25}},"39":{start:{line:70,column:20},end:{line:77,column:1}},"40":{start:{line:71,column:4},end:{line:76,column:11}},"41":{start:{line:71,column:43},end:{line:71,column:55}},"42":{start:{line:72,column:24},end:{line:72,column:30}},"43":{start:{line:74,column:12},end:{line:74,column:40}},"44":{start:{line:75,column:12},end:{line:75,column:24}},"45":{start:{line:79,column:21},end:{line:90,column:1}},"46":{start:{line:80,column:4},end:{line:89,column:6}},"47":{start:{line:92,column:0},end:{line:98,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:21},end:{line:9,column:22}},loc:{start:{line:9,column:39},end:{line:11,column:1}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:21},end:{line:13,column:22}},loc:{start:{line:13,column:27},end:{line:18,column:1}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:20,column:19},end:{line:20,column:20}},loc:{start:{line:20,column:48},end:{line:56,column:1}},line:20},"3":{name:"(anonymous_3)",decl:{start:{line:27,column:23},end:{line:27,column:24}},loc:{start:{line:27,column:44},end:{line:55,column:5}},line:27},"4":{name:"(anonymous_4)",decl:{start:{line:30,column:18},end:{line:30,column:19}},loc:{start:{line:30,column:25},end:{line:47,column:13}},line:30},"5":{name:"(anonymous_5)",decl:{start:{line:39,column:26},end:{line:39,column:27}},loc:{start:{line:39,column:34},end:{line:46,column:21}},line:39},"6":{name:"(anonymous_6)",decl:{start:{line:48,column:18},end:{line:48,column:19}},loc:{start:{line:48,column:26},end:{line:50,column:13}},line:48},"7":{name:"(anonymous_7)",decl:{start:{line:51,column:19},end:{line:51,column:20}},loc:{start:{line:51,column:26},end:{line:54,column:13}},line:51},"8":{name:"(anonymous_8)",decl:{start:{line:58,column:18},end:{line:58,column:19}},loc:{start:{line:58,column:36},end:{line:62,column:1}},line:58},"9":{name:"(anonymous_9)",decl:{start:{line:59,column:36},end:{line:59,column:37}},loc:{start:{line:59,column:43},end:{line:59,column:53}},line:59},"10":{name:"(anonymous_10)",decl:{start:{line:60,column:14},end:{line:60,column:15}},loc:{start:{line:60,column:22},end:{line:60,column:26}},line:60},"11":{name:"(anonymous_11)",decl:{start:{line:61,column:15},end:{line:61,column:16}},loc:{start:{line:61,column:22},end:{line:61,column:25}},line:61},"12":{name:"(anonymous_12)",decl:{start:{line:64,column:18},end:{line:64,column:19}},loc:{start:{line:64,column:36},end:{line:68,column:1}},line:64},"13":{name:"(anonymous_13)",decl:{start:{line:65,column:36},end:{line:65,column:37}},loc:{start:{line:65,column:43},end:{line:65,column:53}},line:65},"14":{name:"(anonymous_14)",decl:{start:{line:66,column:14},end:{line:66,column:15}},loc:{start:{line:66,column:22},end:{line:66,column:26}},line:66},"15":{name:"(anonymous_15)",decl:{start:{line:67,column:15},end:{line:67,column:16}},loc:{start:{line:67,column:22},end:{line:67,column:25}},line:67},"16":{name:"(anonymous_16)",decl:{start:{line:70,column:20},end:{line:70,column:21}},loc:{start:{line:70,column:38},end:{line:77,column:1}},line:70},"17":{name:"(anonymous_17)",decl:{start:{line:71,column:36},end:{line:71,column:37}},loc:{start:{line:71,column:43},end:{line:71,column:55}},line:71},"18":{name:"(anonymous_18)",decl:{start:{line:72,column:14},end:{line:72,column:15}},loc:{start:{line:72,column:24},end:{line:72,column:30}},line:72},"19":{name:"(anonymous_19)",decl:{start:{line:73,column:15},end:{line:73,column:16}},loc:{start:{line:73,column:22},end:{line:76,column:9}},line:73},"20":{name:"(anonymous_20)",decl:{start:{line:79,column:21},end:{line:79,column:22}},loc:{start:{line:79,column:55},end:{line:90,column:1}},line:79}},branchMap:{"0":{loc:{start:{line:21,column:27},end:{line:21,column:75}},type:"binary-expr",locations:[{start:{line:21,column:27},end:{line:21,column:50}},{start:{line:21,column:54},end:{line:21,column:75}}],line:21},"1":{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:23,column:4},end:{line:25,column:5}}],line:23},"2":{loc:{start:{line:31,column:16},end:{line:33,column:17}},type:"if",locations:[{start:{line:31,column:16},end:{line:33,column:17}},{start:{line:31,column:16},end:{line:33,column:17}}],line:31},"3":{loc:{start:{line:34,column:16},end:{line:36,column:17}},type:"if",locations:[{start:{line:34,column:16},end:{line:36,column:17}},{start:{line:34,column:16},end:{line:36,column:17}}],line:34},"4":{loc:{start:{line:40,column:24},end:{line:44,column:25}},type:"if",locations:[{start:{line:40,column:24},end:{line:44,column:25}},{start:{line:40,column:24},end:{line:44,column:25}}],line:40},"5":{loc:{start:{line:86,column:14},end:{line:86,column:61}},type:"cond-expr",locations:[{start:{line:86,column:34},end:{line:86,column:54}},{start:{line:86,column:57},end:{line:86,column:61}}],line:86},"6":{loc:{start:{line:88,column:15},end:{line:88,column:56}},type:"cond-expr",locations:[{start:{line:88,column:23},end:{line:88,column:49}},{start:{line:88,column:52},end:{line:88,column:56}}],line:88}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"13272b5779518d710f21cbb2dd34170a965df505"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1duw1gqklk=function(){return actualCoverage;};}return actualCoverage;}cov_1duw1gqklk();const logger=(cov_1duw1gqklk().s[0]++,require('app/components/logger')('Init'));const{endsWith}=(cov_1duw1gqklk().s[1]++,require('lodash'));const fetch=(cov_1duw1gqklk().s[2]++,require('node-fetch'));const HttpsProxyAgent=(cov_1duw1gqklk().s[3]++,require('https-proxy-agent'));const config=(cov_1duw1gqklk().s[4]++,require('config'));cov_1duw1gqklk().s[5]++;const buildRequest=(url,options)=>{cov_1duw1gqklk().f[0]++;cov_1duw1gqklk().s[6]++;return new fetch.Request(url,options);};cov_1duw1gqklk().s[7]++;const retryOptions=()=>{cov_1duw1gqklk().f[1]++;cov_1duw1gqklk().s[8]++;return{retries:config.utils.api.retries,retryDelay:config.utils.api.retryDelay};};cov_1duw1gqklk().s[9]++;const asyncFetch=(url,options,parseBody)=>{cov_1duw1gqklk().f[2]++;const isHealthOrInfo=(cov_1duw1gqklk().s[10]++,(cov_1duw1gqklk().b[0][0]++,endsWith(url,'health'))||(cov_1duw1gqklk().b[0][1]++,endsWith(url,'info')));cov_1duw1gqklk().s[11]++;if(!isHealthOrInfo){cov_1duw1gqklk().b[1][0]++;cov_1duw1gqklk().s[12]++;logger.info('Calling external service');}else{cov_1duw1gqklk().b[1][1]++;}cov_1duw1gqklk().s[13]++;return new Promise((resolve,reject)=>{cov_1duw1gqklk().f[3]++;const asyncReq=(cov_1duw1gqklk().s[14]++,buildRequest(url,options));cov_1duw1gqklk().s[15]++;fetch(asyncReq,retryOptions()).then(res=>{cov_1duw1gqklk().f[4]++;cov_1duw1gqklk().s[16]++;if(!isHealthOrInfo){cov_1duw1gqklk().b[2][0]++;cov_1duw1gqklk().s[17]++;logger.info(`Status: ${res.status}`);}else{cov_1duw1gqklk().b[2][1]++;}cov_1duw1gqklk().s[18]++;if(res.ok){cov_1duw1gqklk().b[3][0]++;cov_1duw1gqklk().s[19]++;return parseBody(res);}else{cov_1duw1gqklk().b[3][1]++;}cov_1duw1gqklk().s[20]++;logger.error(res.statusText);cov_1duw1gqklk().s[21]++;return parseBody(res).then(body=>{cov_1duw1gqklk().f[5]++;cov_1duw1gqklk().s[22]++;if(body instanceof Buffer){cov_1duw1gqklk().b[4][0]++;cov_1duw1gqklk().s[23]++;logger.error(body.toLocaleString());}else{cov_1duw1gqklk().b[4][1]++;cov_1duw1gqklk().s[24]++;logger.error(body);}cov_1duw1gqklk().s[25]++;reject(new Error(res.statusText));});}).then(body=>{cov_1duw1gqklk().f[6]++;cov_1duw1gqklk().s[26]++;resolve(body);}).catch(err=>{cov_1duw1gqklk().f[7]++;cov_1duw1gqklk().s[27]++;logger.error(`${err}`);cov_1duw1gqklk().s[28]++;reject(Error(err));});});};cov_1duw1gqklk().s[29]++;const fetchJson=(url,options)=>{cov_1duw1gqklk().f[8]++;cov_1duw1gqklk().s[30]++;return asyncFetch(url,options,res=>{cov_1duw1gqklk().f[9]++;cov_1duw1gqklk().s[31]++;return res.json();}).then(json=>{cov_1duw1gqklk().f[10]++;cov_1duw1gqklk().s[32]++;return json;}).catch(err=>{cov_1duw1gqklk().f[11]++;cov_1duw1gqklk().s[33]++;return err;});};cov_1duw1gqklk().s[34]++;const fetchText=(url,options)=>{cov_1duw1gqklk().f[12]++;cov_1duw1gqklk().s[35]++;return asyncFetch(url,options,res=>{cov_1duw1gqklk().f[13]++;cov_1duw1gqklk().s[36]++;return res.text();}).then(text=>{cov_1duw1gqklk().f[14]++;cov_1duw1gqklk().s[37]++;return text;}).catch(err=>{cov_1duw1gqklk().f[15]++;cov_1duw1gqklk().s[38]++;return err;});};cov_1duw1gqklk().s[39]++;const fetchBuffer=(url,options)=>{cov_1duw1gqklk().f[16]++;cov_1duw1gqklk().s[40]++;return asyncFetch(url,options,res=>{cov_1duw1gqklk().f[17]++;cov_1duw1gqklk().s[41]++;return res.buffer();}).then(buffer=>{cov_1duw1gqklk().f[18]++;cov_1duw1gqklk().s[42]++;return buffer;}).catch(err=>{cov_1duw1gqklk().f[19]++;cov_1duw1gqklk().s[43]++;logger.error(`Error${err}`);cov_1duw1gqklk().s[44]++;throw err;});};cov_1duw1gqklk().s[45]++;const fetchOptions=(data,method,headers,proxy)=>{cov_1duw1gqklk().f[20]++;cov_1duw1gqklk().s[46]++;return{method:method,mode:'cors',redirect:'follow',follow:10,timeout:config.utils.api.timeout,body:method==='POST'?(cov_1duw1gqklk().b[5][0]++,JSON.stringify(data)):(cov_1duw1gqklk().b[5][1]++,null),headers:new fetch.Headers(headers),agent:proxy?(cov_1duw1gqklk().b[6][0]++,new HttpsProxyAgent(proxy)):(cov_1duw1gqklk().b[6][1]++,null)};};cov_1duw1gqklk().s[47]++;module.exports={fetchOptions:fetchOptions,fetchJson:fetchJson,asyncFetch:asyncFetch,fetchText:fetchText,fetchBuffer:fetchBuffer};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2dnZXIiLCJyZXF1aXJlIiwiZW5kc1dpdGgiLCJmZXRjaCIsIkh0dHBzUHJveHlBZ2VudCIsImNvbmZpZyIsImJ1aWxkUmVxdWVzdCIsInVybCIsIm9wdGlvbnMiLCJSZXF1ZXN0IiwicmV0cnlPcHRpb25zIiwicmV0cmllcyIsInV0aWxzIiwiYXBpIiwicmV0cnlEZWxheSIsImFzeW5jRmV0Y2giLCJwYXJzZUJvZHkiLCJpc0hlYWx0aE9ySW5mbyIsImluZm8iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImFzeW5jUmVxIiwidGhlbiIsInJlcyIsInN0YXR1cyIsIm9rIiwiZXJyb3IiLCJzdGF0dXNUZXh0IiwiYm9keSIsIkJ1ZmZlciIsInRvTG9jYWxlU3RyaW5nIiwiRXJyb3IiLCJjYXRjaCIsImVyciIsImZldGNoSnNvbiIsImpzb24iLCJmZXRjaFRleHQiLCJ0ZXh0IiwiZmV0Y2hCdWZmZXIiLCJidWZmZXIiLCJmZXRjaE9wdGlvbnMiLCJkYXRhIiwibWV0aG9kIiwiaGVhZGVycyIsInByb3h5IiwibW9kZSIsInJlZGlyZWN0IiwiZm9sbG93IiwidGltZW91dCIsIkpTT04iLCJzdHJpbmdpZnkiLCJIZWFkZXJzIiwiYWdlbnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiYXBpLXV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgbG9nZ2VyID0gcmVxdWlyZSgnYXBwL2NvbXBvbmVudHMvbG9nZ2VyJykoJ0luaXQnKTtcbmNvbnN0IHtlbmRzV2l0aH0gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IGZldGNoID0gcmVxdWlyZSgnbm9kZS1mZXRjaCcpO1xuY29uc3QgSHR0cHNQcm94eUFnZW50ID0gcmVxdWlyZSgnaHR0cHMtcHJveHktYWdlbnQnKTtcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xuXG5jb25zdCBidWlsZFJlcXVlc3QgPSAodXJsLCBvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBmZXRjaC5SZXF1ZXN0KHVybCwgb3B0aW9ucyk7XG59O1xuXG5jb25zdCByZXRyeU9wdGlvbnMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmV0cmllczogY29uZmlnLnV0aWxzLmFwaS5yZXRyaWVzLFxuICAgICAgICByZXRyeURlbGF5OiBjb25maWcudXRpbHMuYXBpLnJldHJ5RGVsYXlcbiAgICB9O1xufTtcblxuY29uc3QgYXN5bmNGZXRjaCA9ICh1cmwsIG9wdGlvbnMsIHBhcnNlQm9keSkgPT4ge1xuICAgIGNvbnN0IGlzSGVhbHRoT3JJbmZvID0gZW5kc1dpdGgodXJsLCAnaGVhbHRoJykgfHwgZW5kc1dpdGgodXJsLCAnaW5mbycpO1xuXG4gICAgaWYgKCFpc0hlYWx0aE9ySW5mbykge1xuICAgICAgICBsb2dnZXIuaW5mbygnQ2FsbGluZyBleHRlcm5hbCBzZXJ2aWNlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgYXN5bmNSZXEgPSBidWlsZFJlcXVlc3QodXJsLCBvcHRpb25zKTtcbiAgICAgICAgZmV0Y2goYXN5bmNSZXEsIHJldHJ5T3B0aW9ucygpKVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzSGVhbHRoT3JJbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGBTdGF0dXM6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VCb2R5KHJlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihyZXMuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlQm9keShyZXMpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGJvZHkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkgaW5zdGFuY2VvZiBCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoYm9keS50b0xvY2FsZVN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGJvZHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihyZXMuc3RhdHVzVGV4dCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihib2R5ID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGJvZHkpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihgJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KEVycm9yKGVycikpO1xuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBmZXRjaEpzb24gPSAodXJsLCBvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIGFzeW5jRmV0Y2godXJsLCBvcHRpb25zLCByZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgLnRoZW4oanNvbiA9PiBqc29uKVxuICAgICAgICAuY2F0Y2goZXJyID0+IGVycik7XG59O1xuXG5jb25zdCBmZXRjaFRleHQgPSAodXJsLCBvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIGFzeW5jRmV0Y2godXJsLCBvcHRpb25zLCByZXMgPT4gcmVzLnRleHQoKSlcbiAgICAgICAgLnRoZW4odGV4dCA9PiB0ZXh0KVxuICAgICAgICAuY2F0Y2goZXJyID0+IGVycik7XG59O1xuXG5jb25zdCBmZXRjaEJ1ZmZlciA9ICh1cmwsIG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4gYXN5bmNGZXRjaCh1cmwsIG9wdGlvbnMsIHJlcyA9PiByZXMuYnVmZmVyKCkpXG4gICAgICAgIC50aGVuKGJ1ZmZlciA9PiBidWZmZXIpXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGBFcnJvciR7ZXJyfWApO1xuICAgICAgICAgICAgdGhyb3cgKGVycik7XG4gICAgICAgIH0pO1xufTtcblxuY29uc3QgZmV0Y2hPcHRpb25zID0gKGRhdGEsIG1ldGhvZCwgaGVhZGVycywgcHJveHkpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICByZWRpcmVjdDogJ2ZvbGxvdycsXG4gICAgICAgIGZvbGxvdzogMTAsXG4gICAgICAgIHRpbWVvdXQ6IGNvbmZpZy51dGlscy5hcGkudGltZW91dCxcbiAgICAgICAgYm9keTogbWV0aG9kID09PSAnUE9TVCcgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IG51bGwsXG4gICAgICAgIGhlYWRlcnM6IG5ldyBmZXRjaC5IZWFkZXJzKGhlYWRlcnMpLFxuICAgICAgICBhZ2VudDogcHJveHkgPyBuZXcgSHR0cHNQcm94eUFnZW50KHByb3h5KSA6IG51bGxcbiAgICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZmV0Y2hPcHRpb25zOiBmZXRjaE9wdGlvbnMsXG4gICAgZmV0Y2hKc29uOiBmZXRjaEpzb24sXG4gICAgYXN5bmNGZXRjaDogYXN5bmNGZXRjaCxcbiAgICBmZXRjaFRleHQ6IGZldGNoVGV4dCxcbiAgICBmZXRjaEJ1ZmZlcjogZmV0Y2hCdWZmZXJcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBLGEsaXJRQWVZOzJGQWJaLEtBQU1BLE9BQU0sMEJBQUdDLE9BQU8sQ0FBQyx1QkFBRCxDQUFQLENBQWlDLE1BQWpDLENBQUgs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