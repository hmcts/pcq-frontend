'use strict';function cov_cpf5h796x(){var path="/Users/priyankaverma/IdeaProjects/pcq-frontend/app/components/auth.js";var hash="e060dfcabebf9eacce372aecb779e876b9f0133d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/priyankaverma/IdeaProjects/pcq-frontend/app/components/auth.js",statementMap:{"0":{start:{line:3,column:12},end:{line:3,column:35}},"1":{start:{line:4,column:15},end:{line:4,column:32}},"2":{start:{line:5,column:15},end:{line:5,column:55}},"3":{start:{line:7,column:20},end:{line:16,column:1}},"4":{start:{line:8,column:17},end:{line:8,column:32}},"5":{start:{line:9,column:4},end:{line:9,column:89}},"6":{start:{line:11,column:4},end:{line:11,column:29}},"7":{start:{line:12,column:18},end:{line:12,column:89}},"8":{start:{line:14,column:4},end:{line:14,column:30}},"9":{start:{line:15,column:4},end:{line:15,column:17}},"10":{start:{line:18,column:0},end:{line:20,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:20},end:{line:7,column:21}},loc:{start:{line:7,column:52},end:{line:16,column:1}},line:7}},branchMap:{"0":{loc:{start:{line:7,column:35},end:{line:7,column:47}},type:"default-arg",locations:[{start:{line:7,column:45},end:{line:7,column:47}}],line:7},"1":{loc:{start:{line:9,column:25},end:{line:9,column:78}},type:"cond-expr",locations:[{start:{line:9,column:58},end:{line:9,column:65}},{start:{line:9,column:68},end:{line:9,column:78}}],line:9}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0},b:{"0":[0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e060dfcabebf9eacce372aecb779e876b9f0133d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_cpf5h796x=function(){return actualCoverage;};}return actualCoverage;}cov_cpf5h796x();const jwt=(cov_cpf5h796x().s[0]++,require('jsonwebtoken'));const config=(cov_cpf5h796x().s[1]++,require('config'));const logger=(cov_cpf5h796x().s[2]++,require('app/components/logger')('Init'));cov_cpf5h796x().s[3]++;const createToken=(req,partyId,payload=(cov_cpf5h796x().b[0][0]++,{}))=>{cov_cpf5h796x().f[0]++;const conf=(cov_cpf5h796x().s[4]++,config.auth.jwt);cov_cpf5h796x().s[5]++;logger.info(`Using ${conf.secret==='JwtSecretKey'?(cov_cpf5h796x().b[1][0]++,'local'):(cov_cpf5h796x().b[1][1]++,'Azure KV')} secret`);cov_cpf5h796x().s[6]++;payload.authorities=[];const token=(cov_cpf5h796x().s[7]++,jwt.sign(payload,conf.secret,{subject:partyId,expiresIn:conf.ttl}));cov_cpf5h796x().s[8]++;req.session.token=token;cov_cpf5h796x().s[9]++;return token;};cov_cpf5h796x().s[10]++;module.exports={createToken:createToken};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwiY29uZmlnIiwibG9nZ2VyIiwiY3JlYXRlVG9rZW4iLCJyZXEiLCJwYXJ0eUlkIiwicGF5bG9hZCIsImNvbmYiLCJhdXRoIiwiaW5mbyIsInNlY3JldCIsImF1dGhvcml0aWVzIiwidG9rZW4iLCJzaWduIiwic3ViamVjdCIsImV4cGlyZXNJbiIsInR0bCIsInNlc3Npb24iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnY29uZmlnJyk7XG5jb25zdCBsb2dnZXIgPSByZXF1aXJlKCdhcHAvY29tcG9uZW50cy9sb2dnZXInKSgnSW5pdCcpO1xuXG5jb25zdCBjcmVhdGVUb2tlbiA9IChyZXEsIHBhcnR5SWQsIHBheWxvYWQgPSB7fSkgPT4ge1xuICAgIGNvbnN0IGNvbmYgPSBjb25maWcuYXV0aC5qd3Q7XG4gICAgbG9nZ2VyLmluZm8oYFVzaW5nICR7Y29uZi5zZWNyZXQgPT09ICdKd3RTZWNyZXRLZXknID8gJ2xvY2FsJyA6ICdBenVyZSBLVid9IHNlY3JldGApO1xuXG4gICAgcGF5bG9hZC5hdXRob3JpdGllcyA9IFtdO1xuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24ocGF5bG9hZCwgY29uZi5zZWNyZXQsIHtzdWJqZWN0OiBwYXJ0eUlkLCBleHBpcmVzSW46IGNvbmYudHRsfSk7XG5cbiAgICByZXEuc2Vzc2lvbi50b2tlbiA9IHRva2VuO1xuICAgIHJldHVybiB0b2tlbjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNyZWF0ZVRva2VuOiBjcmVhdGVUb2tlblxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsYSw0d0RBZVk7eUZBYlosS0FBTUEsSUFBRyx5QkFBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBVixDQUFULENBQ0EsS0FBTUMsT0FBTSx5QkFBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBVixDQUFaLENBQ0EsS0FBTUUsT0FBTSx5QkFBR0YsT0FBTyxDQUFDLHVCQUFELENBQVAsQ0FBaUMsTUFBakMsQ0FBSCxDQUFaLEMsdUJBRUEsS0FBTUcsWUFBVyxDQUFHLENBQUNDLEdBQUQsQ0FBTUMsT0FBTixDQUFlQyxPQUFPLDRCQUFHLEVBQUgsQ0FBdEIsR0FBZ0Msd0JBQ2hELEtBQU1DLEtBQUkseUJBQUdOLE1BQU0sQ0FBQ08sSUFBUCxDQUFZVCxHQUFmLENBQVYsQ0FEZ0QsdUJBRWhERyxNQUFNLENBQUNPLElBQVAsQ0FBYSxTQUFRRixJQUFJLENBQUNHLE1BQUwsR0FBZ0IsY0FBaEIsNEJBQWlDLE9BQWpDLDZCQUEyQyxVQUEzQyxDQUFzRCxTQUEzRSxFQUZnRCx1QkFJaERKLE9BQU8sQ0FBQ0ssV0FBUixDQUFzQixFQUF0QixDQUNBLEtBQU1DLE1BQUsseUJBQUdiLEdBQUcsQ0FBQ2MsSUFBSixDQUFTUCxPQUFULENBQWtCQyxJQUFJLENBQUNHLE1BQXZCLENBQStCLENBQUNJLE9BQU8sQ0FBRVQsT0FBVixDQUFtQlUsU0FBUyxDQUFFUixJQUFJLENBQUNTLEdBQW5DLENBQS9CLENBQUgsQ0FBWCxDQUxnRCx1QkFPaERaLEdBQUcsQ0FBQ2EsT0FBSixDQUFZTCxLQUFaLENBQW9CQSxLQUFwQixDQVBnRCx1QkFRaEQsTUFBT0EsTUFBUCxDQUNILENBVEQsQyx3QkFXQU0sTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQ2JoQixXQUFXLENBQUVBLFdBREEsQ0FBakIifQ==