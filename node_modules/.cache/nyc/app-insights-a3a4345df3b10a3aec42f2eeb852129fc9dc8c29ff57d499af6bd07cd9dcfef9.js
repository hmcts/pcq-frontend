function cov_1o2jsmddsv(){var path="/Users/bradleywadsworth/development/reform/pcq-frontend/app/components/app-insights.js";var hash="9ba351f2bbcf8a57ba97e74d22bca2a6ba8a4bb7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/bradleywadsworth/development/reform/pcq-frontend/app/components/app-insights.js",statementMap:{"0":{start:{line:1,column:20},end:{line:1,column:50}},"1":{start:{line:2,column:15},end:{line:2,column:64}},"2":{start:{line:3,column:15},end:{line:3,column:55}},"3":{start:{line:4,column:15},end:{line:4,column:32}},"4":{start:{line:5,column:13},end:{line:5,column:28}},"5":{start:{line:6,column:11},end:{line:6,column:24}},"6":{start:{line:7,column:11},end:{line:7,column:24}},"7":{start:{line:10,column:31},end:{line:10,column:75}},"8":{start:{line:12,column:4},end:{line:24,column:5}},"9":{start:{line:13,column:8},end:{line:13,column:24}},"10":{start:{line:15,column:8},end:{line:15,column:45}},"11":{start:{line:17,column:8},end:{line:20,column:21}},"12":{start:{line:22,column:8},end:{line:22,column:114}},"13":{start:{line:23,column:8},end:{line:23,column:82}},"14":{start:{line:27,column:24},end:{line:27,column:90}},"15":{start:{line:29,column:8},end:{line:32,column:9}},"16":{start:{line:30,column:12},end:{line:30,column:58}},"17":{start:{line:31,column:12},end:{line:31,column:34}},"18":{start:{line:36,column:0},end:{line:36,column:33}}},fnMap:{"0":{name:"initAppInsights",decl:{start:{line:9,column:9},end:{line:9,column:24}},loc:{start:{line:9,column:27},end:{line:34,column:1}},line:9},"1":{name:"createTempDir",decl:{start:{line:26,column:13},end:{line:26,column:26}},loc:{start:{line:26,column:29},end:{line:33,column:5}},line:26}},branchMap:{"0":{loc:{start:{line:12,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:24,column:5}},{start:{line:12,column:4},end:{line:24,column:5}}],line:12},"1":{loc:{start:{line:29,column:8},end:{line:32,column:9}},type:"if",locations:[{start:{line:29,column:8},end:{line:32,column:9}},{start:{line:29,column:8},end:{line:32,column:9}}],line:29}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9ba351f2bbcf8a57ba97e74d22bca2a6ba8a4bb7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1o2jsmddsv=function(){return actualCoverage;};}return actualCoverage;}cov_1o2jsmddsv();const appInsights=(cov_1o2jsmddsv().s[0]++,require('applicationinsights'));const Sender=(cov_1o2jsmddsv().s[1]++,require('applicationinsights/out/Library/Sender'));const logger=(cov_1o2jsmddsv().s[2]++,require('app/components/logger')('Init'));const config=(cov_1o2jsmddsv().s[3]++,require('config'));const path=(cov_1o2jsmddsv().s[4]++,require('path'));const fs=(cov_1o2jsmddsv().s[5]++,require('fs'));const os=(cov_1o2jsmddsv().s[6]++,require('os'));function initAppInsights(){cov_1o2jsmddsv().f[0]++;const instrumentationKey=(cov_1o2jsmddsv().s[7]++,config.get('appInsights.instrumentationKey'));cov_1o2jsmddsv().s[8]++;if(instrumentationKey){cov_1o2jsmddsv().b[0][0]++;cov_1o2jsmddsv().s[9]++;createTempDir();cov_1o2jsmddsv().s[10]++;logger.info('Starting App Insights');cov_1o2jsmddsv().s[11]++;appInsights.setup(instrumentationKey).setSendLiveMetrics(true).setAutoCollectConsole(true,true).start();cov_1o2jsmddsv().s[12]++;appInsights.defaultClient.context.tags[appInsights.defaultClient.context.keys.cloudRole]='pcq-frontend';cov_1o2jsmddsv().s[13]++;appInsights.defaultClient.trackTrace({message:'App insights activated'});}else{cov_1o2jsmddsv().b[0][1]++;}function createTempDir(){cov_1o2jsmddsv().f[1]++;const tempDir=(cov_1o2jsmddsv().s[14]++,path.join(os.tmpdir(),Sender.TEMPDIR_PREFIX+instrumentationKey));cov_1o2jsmddsv().s[15]++;if(!fs.existsSync(tempDir)){cov_1o2jsmddsv().b[1][0]++;cov_1o2jsmddsv().s[16]++;logger.info('Creating App Insights temp dir');cov_1o2jsmddsv().s[17]++;fs.mkdirSync(tempDir);}else{cov_1o2jsmddsv().b[1][1]++;}}}cov_1o2jsmddsv().s[18]++;module.exports=initAppInsights;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHBJbnNpZ2h0cyIsInJlcXVpcmUiLCJTZW5kZXIiLCJsb2dnZXIiLCJjb25maWciLCJwYXRoIiwiZnMiLCJvcyIsImluaXRBcHBJbnNpZ2h0cyIsImluc3RydW1lbnRhdGlvbktleSIsImdldCIsImNyZWF0ZVRlbXBEaXIiLCJpbmZvIiwic2V0dXAiLCJzZXRTZW5kTGl2ZU1ldHJpY3MiLCJzZXRBdXRvQ29sbGVjdENvbnNvbGUiLCJzdGFydCIsImRlZmF1bHRDbGllbnQiLCJjb250ZXh0IiwidGFncyIsImtleXMiLCJjbG91ZFJvbGUiLCJ0cmFja1RyYWNlIiwibWVzc2FnZSIsInRlbXBEaXIiLCJqb2luIiwidG1wZGlyIiwiVEVNUERJUl9QUkVGSVgiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImFwcC1pbnNpZ2h0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhcHBJbnNpZ2h0cyA9IHJlcXVpcmUoJ2FwcGxpY2F0aW9uaW5zaWdodHMnKTtcbmNvbnN0IFNlbmRlciA9IHJlcXVpcmUoJ2FwcGxpY2F0aW9uaW5zaWdodHMvb3V0L0xpYnJhcnkvU2VuZGVyJyk7XG5jb25zdCBsb2dnZXIgPSByZXF1aXJlKCdhcHAvY29tcG9uZW50cy9sb2dnZXInKSgnSW5pdCcpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnY29uZmlnJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3Qgb3MgPSByZXF1aXJlKCdvcycpO1xuXG5mdW5jdGlvbiBpbml0QXBwSW5zaWdodHMoKSB7XG4gICAgY29uc3QgaW5zdHJ1bWVudGF0aW9uS2V5ID0gY29uZmlnLmdldCgnYXBwSW5zaWdodHMuaW5zdHJ1bWVudGF0aW9uS2V5Jyk7XG5cbiAgICBpZiAoaW5zdHJ1bWVudGF0aW9uS2V5KSB7XG4gICAgICAgIGNyZWF0ZVRlbXBEaXIoKTtcblxuICAgICAgICBsb2dnZXIuaW5mbygnU3RhcnRpbmcgQXBwIEluc2lnaHRzJyk7XG5cbiAgICAgICAgYXBwSW5zaWdodHMuc2V0dXAoaW5zdHJ1bWVudGF0aW9uS2V5KVxuICAgICAgICAgICAgLnNldFNlbmRMaXZlTWV0cmljcyh0cnVlKVxuICAgICAgICAgICAgLnNldEF1dG9Db2xsZWN0Q29uc29sZSh0cnVlLCB0cnVlKVxuICAgICAgICAgICAgLnN0YXJ0KCk7XG5cbiAgICAgICAgYXBwSW5zaWdodHMuZGVmYXVsdENsaWVudC5jb250ZXh0LnRhZ3NbYXBwSW5zaWdodHMuZGVmYXVsdENsaWVudC5jb250ZXh0LmtleXMuY2xvdWRSb2xlXSA9ICdwY3EtZnJvbnRlbmQnO1xuICAgICAgICBhcHBJbnNpZ2h0cy5kZWZhdWx0Q2xpZW50LnRyYWNrVHJhY2Uoe21lc3NhZ2U6ICdBcHAgaW5zaWdodHMgYWN0aXZhdGVkJ30pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVRlbXBEaXIoKSB7XG4gICAgICAgIGNvbnN0IHRlbXBEaXIgPSBwYXRoLmpvaW4ob3MudG1wZGlyKCksIFNlbmRlci5URU1QRElSX1BSRUZJWCArIGluc3RydW1lbnRhdGlvbktleSk7XG5cbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKHRlbXBEaXIpKSB7XG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnQ3JlYXRpbmcgQXBwIEluc2lnaHRzIHRlbXAgZGlyJyk7XG4gICAgICAgICAgICBmcy5ta2RpclN5bmModGVtcERpcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5pdEFwcEluc2lnaHRzO1xuIl0sIm1hcHBpbmdzIjoiMCtFQWVZOzJGQWZaLEtBQU1BLFlBQVcsMEJBQUdDLE9BQU8sQ0FBQyxxQkFBRCxDQUFWLENBQWpCLENBQ0EsS0FBTUMsT0FBTSwwQkFBR0QsT0FBTyxDQUFDLHdDQUFELENBQVYsQ0FBWixDQUNBLEtBQU1FLE9BQU0sMEJBQUdGLE9BQU8sQ0FBQyx1QkFBRCxDQUFQLENBQWlDLE1BQWpDLENBQUgsQ0FBWixDQUNBLEtBQU1HLE9BQU0sMEJBQUdILE9BQU8sQ0FBQyxRQUFELENBQVYsQ0FBWixDQUNBLEtBQU1JLEtBQUksMEJBQUdKLE9BQU8sQ0FBQyxNQUFELENBQVYsQ0FBVixDQUNBLEtBQU1LLEdBQUUsMEJBQUdMLE9BQU8sQ0FBQyxJQUFELENBQVYsQ0FBUixDQUNBLEtBQU1NLEdBQUUsMEJBQUdOLE9BQU8sQ0FBQyxJQUFELENBQVYsQ0FBUixDQUVBLFFBQVNPLGdCQUFULEVBQTJCLHlCQUN2QixLQUFNQyxtQkFBa0IsMEJBQUdMLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLGdDQUFYLENBQUgsQ0FBeEIsQ0FEdUIsd0JBR3ZCLEdBQUlELGtCQUFKLENBQXdCLG9EQUNwQkUsYUFBYSxHQURPLHlCQUdwQlIsTUFBTSxDQUFDUyxJQUFQLENBQVksdUJBQVosRUFIb0IseUJBS3BCWixXQUFXLENBQUNhLEtBQVosQ0FBa0JKLGtCQUFsQixFQUNLSyxrQkFETCxDQUN3QixJQUR4QixFQUVLQyxxQkFGTCxDQUUyQixJQUYzQixDQUVpQyxJQUZqQyxFQUdLQyxLQUhMLEdBTG9CLHlCQVVwQmhCLFdBQVcsQ0FBQ2lCLGFBQVosQ0FBMEJDLE9BQTFCLENBQWtDQyxJQUFsQyxDQUF1Q25CLFdBQVcsQ0FBQ2lCLGFBQVosQ0FBMEJDLE9BQTFCLENBQWtDRSxJQUFsQyxDQUF1Q0MsU0FBOUUsRUFBMkYsY0FBM0YsQ0FWb0IseUJBV3BCckIsV0FBVyxDQUFDaUIsYUFBWixDQUEwQkssVUFBMUIsQ0FBcUMsQ0FBQ0MsT0FBTyxDQUFFLHdCQUFWLENBQXJDLEVBQ0gsQ0FaRCxpQ0FjQSxRQUFTWixjQUFULEVBQXlCLHlCQUNyQixLQUFNYSxRQUFPLDJCQUFHbkIsSUFBSSxDQUFDb0IsSUFBTCxDQUFVbEIsRUFBRSxDQUFDbUIsTUFBSCxFQUFWLENBQXVCeEIsTUFBTSxDQUFDeUIsY0FBUCxDQUF3QmxCLGtCQUEvQyxDQUFILENBQWIsQ0FEcUIseUJBR3JCLEdBQUksQ0FBQ0gsRUFBRSxDQUFDc0IsVUFBSCxDQUFjSixPQUFkLENBQUwsQ0FBNkIscURBQ3pCckIsTUFBTSxDQUFDUyxJQUFQLENBQVksZ0NBQVosRUFEeUIseUJBRXpCTixFQUFFLENBQUN1QixTQUFILENBQWFMLE9BQWIsRUFDSCxDQUhELGlDQUlILENBQ0osQyx5QkFFRE0sTUFBTSxDQUFDQyxPQUFQLENBQWlCdkIsZUFBakIifQ==