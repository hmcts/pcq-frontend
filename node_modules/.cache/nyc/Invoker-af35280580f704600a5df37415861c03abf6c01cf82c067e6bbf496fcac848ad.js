'use strict';function cov_1gezyr4dt9(){var path="/Users/bradleywadsworth/development/reform/pcq-frontend/app/utils/Invoker.js";var hash="19ef20d1851a56b1c758193aa7e451dbde75b7ab";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/bradleywadsworth/development/reform/pcq-frontend/app/utils/Invoker.js",statementMap:{"0":{start:{line:3,column:15},end:{line:3,column:33}},"1":{start:{line:4,column:24},end:{line:4,column:66}},"2":{start:{line:5,column:27},end:{line:5,column:60}},"3":{start:{line:10,column:28},end:{line:15,column:10}},"4":{start:{line:11,column:12},end:{line:14,column:14}},"5":{start:{line:17,column:26},end:{line:17,column:28}},"6":{start:{line:18,column:8},end:{line:20,column:11}},"7":{start:{line:19,column:12},end:{line:19,column:58}},"8":{start:{line:22,column:8},end:{line:25,column:10}},"9":{start:{line:29,column:19},end:{line:32,column:22}},"10":{start:{line:30,column:27},end:{line:30,column:83}},"11":{start:{line:31,column:24},end:{line:31,column:65}},"12":{start:{line:34,column:8},end:{line:34,column:41}},"13":{start:{line:38,column:23},end:{line:38,column:25}},"14":{start:{line:40,column:8},end:{line:42,column:11}},"15":{start:{line:41,column:12},end:{line:41,column:68}},"16":{start:{line:44,column:8},end:{line:44,column:22}},"17":{start:{line:49,column:8},end:{line:65,column:9}},"18":{start:{line:52,column:16},end:{line:52,column:32}},"19":{start:{line:54,column:16},end:{line:54,column:57}},"20":{start:{line:56,column:16},end:{line:56,column:31}},"21":{start:{line:58,column:16},end:{line:58,column:29}},"22":{start:{line:60,column:16},end:{line:60,column:28}},"23":{start:{line:62,column:16},end:{line:62,column:57}},"24":{start:{line:64,column:16},end:{line:64,column:26}},"25":{start:{line:69,column:8},end:{line:69,column:37}},"26":{start:{line:74,column:0},end:{line:74,column:25}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:18},end:{line:26,column:5}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:51},end:{line:10,column:52}},loc:{start:{line:10,column:62},end:{line:15,column:9}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:35},end:{line:18,column:36}},loc:{start:{line:18,column:46},end:{line:20,column:9}},line:18},"3":{name:"(anonymous_3)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:26},end:{line:35,column:5}},line:28},"4":{name:"(anonymous_4)",decl:{start:{line:30,column:20},end:{line:30,column:21}},loc:{start:{line:30,column:27},end:{line:30,column:83}},line:30},"5":{name:"(anonymous_5)",decl:{start:{line:31,column:17},end:{line:31,column:18}},loc:{start:{line:31,column:24},end:{line:31,column:65}},line:31},"6":{name:"(anonymous_6)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:37},end:{line:45,column:5}},line:37},"7":{name:"(anonymous_7)",decl:{start:{line:40,column:23},end:{line:40,column:24}},loc:{start:{line:40,column:32},end:{line:42,column:9}},line:40},"8":{name:"(anonymous_8)",decl:{start:{line:47,column:4},end:{line:47,column:5}},loc:{start:{line:47,column:39},end:{line:66,column:5}},line:47},"9":{name:"(anonymous_9)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:26},end:{line:70,column:5}},line:68}},branchMap:{"0":{loc:{start:{line:30,column:27},end:{line:30,column:83}},type:"binary-expr",locations:[{start:{line:30,column:27},end:{line:30,column:43}},{start:{line:30,column:47},end:{line:30,column:62}},{start:{line:30,column:66},end:{line:30,column:83}}],line:30},"1":{loc:{start:{line:49,column:8},end:{line:65,column:9}},type:"switch",locations:[{start:{line:50,column:12},end:{line:50,column:25}},{start:{line:51,column:12},end:{line:52,column:32}},{start:{line:53,column:12},end:{line:54,column:57}},{start:{line:55,column:12},end:{line:56,column:31}},{start:{line:57,column:12},end:{line:58,column:29}},{start:{line:59,column:12},end:{line:60,column:28}},{start:{line:61,column:12},end:{line:62,column:57}},{start:{line:63,column:12},end:{line:64,column:26}}],line:49}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0,0],"1":[0,0,0,0,0,0,0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"19ef20d1851a56b1c758193aa7e451dbde75b7ab"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1gezyr4dt9=function(){return actualCoverage;};}return actualCoverage;}cov_1gezyr4dt9();const uuidv4=(cov_1gezyr4dt9().s[0]++,require('uuid/v4'));const{generateToken}=(cov_1gezyr4dt9().s[1]++,require('app/components/encryption-token'));const registeredServices=(cov_1gezyr4dt9().s[2]++,require('app/registeredServices'));class Invoker{get content(){cov_1gezyr4dt9().f[0]++;const serviceList=(cov_1gezyr4dt9().s[3]++,registeredServices.map(service=>{cov_1gezyr4dt9().f[1]++;cov_1gezyr4dt9().s[4]++;return{value:service.serviceId,text:service.serviceId};}));const actorList=(cov_1gezyr4dt9().s[5]++,{});cov_1gezyr4dt9().s[6]++;registeredServices.forEach(service=>{cov_1gezyr4dt9().f[2]++;cov_1gezyr4dt9().s[7]++;actorList[service.serviceId]=service.actors;});cov_1gezyr4dt9().s[8]++;return{serviceList:serviceList,actorList:actorList};}serviceEndpoint(form){cov_1gezyr4dt9().f[3]++;const qs=(cov_1gezyr4dt9().s[9]++,Object.keys(form).filter(key=>{cov_1gezyr4dt9().f[4]++;cov_1gezyr4dt9().s[10]++;return(cov_1gezyr4dt9().b[0][0]++,form[key]!=='')&&(cov_1gezyr4dt9().b[0][1]++,key!=='_csrf')&&(cov_1gezyr4dt9().b[0][2]++,key!=='authTag');}).map(key=>{cov_1gezyr4dt9().f[5]++;cov_1gezyr4dt9().s[11]++;return key+'='+encodeURIComponent(form[key]);}).join('&'));cov_1gezyr4dt9().s[12]++;return'/service-endpoint?'+qs;}fillForm(service,actor,fields){cov_1gezyr4dt9().f[6]++;const filler=(cov_1gezyr4dt9().s[13]++,{});cov_1gezyr4dt9().s[14]++;fields.forEach(field=>{cov_1gezyr4dt9().f[7]++;cov_1gezyr4dt9().s[15]++;filler[field]=this.fieldFiller(service,actor,field);});cov_1gezyr4dt9().s[16]++;return filler;}fieldFiller(service,actor,field){cov_1gezyr4dt9().f[8]++;cov_1gezyr4dt9().s[17]++;/*eslint indent: [2, 4, {"SwitchCase": 1}]*/switch(field){case'pcqId':cov_1gezyr4dt9().b[1][0]++;case'ccdCaseId':cov_1gezyr4dt9().b[1][1]++;cov_1gezyr4dt9().s[18]++;return uuidv4();case'partyId':cov_1gezyr4dt9().b[1][2]++;cov_1gezyr4dt9().s[19]++;return`${service}_${actor}@test.gov.uk`;case'serviceId':cov_1gezyr4dt9().b[1][3]++;cov_1gezyr4dt9().s[20]++;return service;case'actor':cov_1gezyr4dt9().b[1][4]++;cov_1gezyr4dt9().s[21]++;return actor;case'language':cov_1gezyr4dt9().b[1][5]++;cov_1gezyr4dt9().s[22]++;return'en';case'returnUrl':cov_1gezyr4dt9().b[1][6]++;cov_1gezyr4dt9().s[23]++;return`${service}_${actor}.test.gov.uk`;default:cov_1gezyr4dt9().b[1][7]++;cov_1gezyr4dt9().s[24]++;return'';}}generateToken(params){cov_1gezyr4dt9().f[9]++;cov_1gezyr4dt9().s[25]++;return generateToken(params);}}cov_1gezyr4dt9().s[26]++;module.exports=Invoker;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1dWlkdjQiLCJyZXF1aXJlIiwiZ2VuZXJhdGVUb2tlbiIsInJlZ2lzdGVyZWRTZXJ2aWNlcyIsIkludm9rZXIiLCJjb250ZW50Iiwic2VydmljZUxpc3QiLCJtYXAiLCJzZXJ2aWNlIiwidmFsdWUiLCJzZXJ2aWNlSWQiLCJ0ZXh0IiwiYWN0b3JMaXN0IiwiZm9yRWFjaCIsImFjdG9ycyIsInNlcnZpY2VFbmRwb2ludCIsImZvcm0iLCJxcyIsIk9iamVjdCIsImtleXMiLCJmaWx0ZXIiLCJrZXkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiZmlsbEZvcm0iLCJhY3RvciIsImZpZWxkcyIsImZpbGxlciIsImZpZWxkIiwiZmllbGRGaWxsZXIiLCJwYXJhbXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiSW52b2tlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHV1aWR2NCA9IHJlcXVpcmUoJ3V1aWQvdjQnKTtcbmNvbnN0IHtnZW5lcmF0ZVRva2VufSA9IHJlcXVpcmUoJ2FwcC9jb21wb25lbnRzL2VuY3J5cHRpb24tdG9rZW4nKTtcbmNvbnN0IHJlZ2lzdGVyZWRTZXJ2aWNlcyA9IHJlcXVpcmUoJ2FwcC9yZWdpc3RlcmVkU2VydmljZXMnKTtcblxuY2xhc3MgSW52b2tlciB7XG5cbiAgICBnZXQgY29udGVudCgpIHtcbiAgICAgICAgY29uc3Qgc2VydmljZUxpc3QgPSByZWdpc3RlcmVkU2VydmljZXMubWFwKHNlcnZpY2UgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogc2VydmljZS5zZXJ2aWNlSWQsXG4gICAgICAgICAgICAgICAgdGV4dDogc2VydmljZS5zZXJ2aWNlSWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGFjdG9yTGlzdCA9IHt9O1xuICAgICAgICByZWdpc3RlcmVkU2VydmljZXMuZm9yRWFjaChzZXJ2aWNlID0+IHtcbiAgICAgICAgICAgIGFjdG9yTGlzdFtzZXJ2aWNlLnNlcnZpY2VJZF0gPSBzZXJ2aWNlLmFjdG9ycztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlcnZpY2VMaXN0OiBzZXJ2aWNlTGlzdCxcbiAgICAgICAgICAgIGFjdG9yTGlzdDogYWN0b3JMaXN0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2VydmljZUVuZHBvaW50KGZvcm0pIHtcbiAgICAgICAgY29uc3QgcXMgPSBPYmplY3Qua2V5cyhmb3JtKVxuICAgICAgICAgICAgLmZpbHRlcihrZXkgPT4gZm9ybVtrZXldICE9PSAnJyAmJiBrZXkgIT09ICdfY3NyZicgJiYga2V5ICE9PSAnYXV0aFRhZycpXG4gICAgICAgICAgICAubWFwKGtleSA9PiBrZXkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZm9ybVtrZXldKSlcbiAgICAgICAgICAgIC5qb2luKCcmJyk7XG5cbiAgICAgICAgcmV0dXJuICcvc2VydmljZS1lbmRwb2ludD8nICsgcXM7XG4gICAgfVxuXG4gICAgZmlsbEZvcm0oc2VydmljZSwgYWN0b3IsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBmaWxsZXIgPSB7fTtcblxuICAgICAgICBmaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICAgICAgICBmaWxsZXJbZmllbGRdID0gdGhpcy5maWVsZEZpbGxlcihzZXJ2aWNlLCBhY3RvciwgZmllbGQpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZmlsbGVyO1xuICAgIH1cblxuICAgIGZpZWxkRmlsbGVyKHNlcnZpY2UsIGFjdG9yLCBmaWVsZCkge1xuICAgICAgICAvKmVzbGludCBpbmRlbnQ6IFsyLCA0LCB7XCJTd2l0Y2hDYXNlXCI6IDF9XSovXG4gICAgICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3BjcUlkJzpcbiAgICAgICAgICAgIGNhc2UgJ2NjZENhc2VJZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV1aWR2NCgpO1xuICAgICAgICAgICAgY2FzZSAncGFydHlJZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke3NlcnZpY2V9XyR7YWN0b3J9QHRlc3QuZ292LnVrYDtcbiAgICAgICAgICAgIGNhc2UgJ3NlcnZpY2VJZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgICAgICBjYXNlICdhY3Rvcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdG9yO1xuICAgICAgICAgICAgY2FzZSAnbGFuZ3VhZ2UnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnZW4nO1xuICAgICAgICAgICAgY2FzZSAncmV0dXJuVXJsJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7c2VydmljZX1fJHthY3Rvcn0udGVzdC5nb3YudWtgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZW5lcmF0ZVRva2VuKHBhcmFtcykge1xuICAgICAgICByZXR1cm4gZ2VuZXJhdGVUb2tlbihwYXJhbXMpO1xuICAgIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEludm9rZXI7XG4iXSwibWFwcGluZ3MiOiJBQUFBLGEsOGlKQWVZOzJGQWJaLEtBQU1BLE9BQU0sMEJBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVYsQ0FBWixDQUNBLEtBQU0sQ0FBQ0MsYUFBRCwyQkFBa0JELE9BQU8sQ0FBQyxpQ0FBRCxDQUF6QixDQUFOLENBQ0EsS0FBTUUsbUJBQWtCLDBCQUFHRixPQUFPLENBQUMsd0JBQUQsQ0FBVixDQUF4QixDQUVBLEtBQU1HLFFBQVEsQ0FFQyxHQUFQQyxRQUFPLEVBQUcseUJBQ1YsS0FBTUMsWUFBVywwQkFBR0gsa0JBQWtCLENBQUNJLEdBQW5CLENBQXVCQyxPQUFPLEVBQUksaURBQ2xELE1BQU8sQ0FDSEMsS0FBSyxDQUFFRCxPQUFPLENBQUNFLFNBRFosQ0FFSEMsSUFBSSxDQUFFSCxPQUFPLENBQUNFLFNBRlgsQ0FBUCxDQUlILENBTG1CLENBQUgsQ0FBakIsQ0FPQSxLQUFNRSxVQUFTLDBCQUFHLEVBQUgsQ0FBZixDQVJVLHdCQVNWVCxrQkFBa0IsQ0FBQ1UsT0FBbkIsQ0FBMkJMLE9BQU8sRUFBSSxpREFDbENJLFNBQVMsQ0FBQ0osT0FBTyxDQUFDRSxTQUFULENBQVQsQ0FBK0JGLE9BQU8sQ0FBQ00sTUFBdkMsQ0FDSCxDQUZELEVBVFUsd0JBYVYsTUFBTyxDQUNIUixXQUFXLENBQUVBLFdBRFYsQ0FFSE0sU0FBUyxDQUFFQSxTQUZSLENBQVAsQ0FJSCxDQUVERyxlQUFlLENBQUNDLElBQUQsQ0FBTyx5QkFDbEIsS0FBTUMsR0FBRSwwQkFBR0MsTUFBTSxDQUFDQyxJQUFQLENBQVlILElBQVosRUFDTkksTUFETSxDQUNDQyxHQUFHLEVBQUksb0ZBQUFMLElBQUksQ0FBQ0ssR0FBRCxDQUFKLEdBQWMsRUFBZCwrQkFBb0JBLEdBQUcsR0FBSyxPQUE1QiwrQkFBdUNBLEdBQUcsR0FBSyxTQUEvQyxFQUF3RCxDQURoRSxFQUVOZCxHQUZNLENBRUZjLEdBQUcsRUFBSSx3REFBQUEsSUFBRyxDQUFHLEdBQU4sQ0FBWUMsa0JBQWtCLENBQUNOLElBQUksQ0FBQ0ssR0FBRCxDQUFMLENBQTlCLENBQXlDLENBRjlDLEVBR05FLElBSE0sQ0FHRCxHQUhDLENBQUgsQ0FBUixDQURrQix5QkFNbEIsTUFBTyxxQkFBdUJOLEVBQTlCLENBQ0gsQ0FFRE8sUUFBUSxDQUFDaEIsT0FBRCxDQUFVaUIsS0FBVixDQUFpQkMsTUFBakIsQ0FBeUIseUJBQzdCLEtBQU1DLE9BQU0sMkJBQUcsRUFBSCxDQUFaLENBRDZCLHlCQUc3QkQsTUFBTSxDQUFDYixPQUFQLENBQWVlLEtBQUssRUFBSSxrREFDcEJELE1BQU0sQ0FBQ0MsS0FBRCxDQUFOLENBQWdCLEtBQUtDLFdBQUwsQ0FBaUJyQixPQUFqQixDQUEwQmlCLEtBQTFCLENBQWlDRyxLQUFqQyxDQUFoQixDQUNILENBRkQsRUFINkIseUJBTzdCLE1BQU9ELE9BQVAsQ0FDSCxDQUVERSxXQUFXLENBQUNyQixPQUFELENBQVVpQixLQUFWLENBQWlCRyxLQUFqQixDQUF3QixrREFDL0IsNENBQ0EsT0FBUUEsS0FBUixFQUNJLElBQUssT0FBTCw0QkFDQSxJQUFLLFdBQUwscURBQ0ksTUFBTzVCLE9BQU0sRUFBYixDQUNKLElBQUssU0FBTCxxREFDSSxNQUFRLEdBQUVRLE9BQVEsSUFBR2lCLEtBQU0sY0FBM0IsQ0FDSixJQUFLLFdBQUwscURBQ0ksTUFBT2pCLFFBQVAsQ0FDSixJQUFLLE9BQUwscURBQ0ksTUFBT2lCLE1BQVAsQ0FDSixJQUFLLFVBQUwscURBQ0ksTUFBTyxJQUFQLENBQ0osSUFBSyxXQUFMLHFEQUNJLE1BQVEsR0FBRWpCLE9BQVEsSUFBR2lCLEtBQU0sY0FBM0IsQ0FDSiw0REFDSSxNQUFPLEVBQVAsQ0FmUixDQWlCSCxDQUVEdkIsYUFBYSxDQUFDNEIsTUFBRCxDQUFTLGtEQUNsQixNQUFPNUIsY0FBYSxDQUFDNEIsTUFBRCxDQUFwQixDQUNILENBL0RTLEMseUJBbUVkQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUI1QixPQUFqQiJ9