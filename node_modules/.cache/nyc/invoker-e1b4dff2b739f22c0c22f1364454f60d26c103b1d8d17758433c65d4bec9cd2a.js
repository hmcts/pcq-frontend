'use strict';function cov_1c19dgkrxx(){var path="/Users/bradleywadsworth/development/reform/pcq-frontend/app/middleware/invoker.js";var hash="7e5cc71e8a83d1efe3336e9f29aa84da1113def9";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/bradleywadsworth/development/reform/pcq-frontend/app/middleware/invoker.js",statementMap:{"0":{start:{line:3,column:16},end:{line:3,column:52}},"1":{start:{line:5,column:15},end:{line:15,column:1}},"2":{start:{line:6,column:20},end:{line:6,column:35}},"3":{start:{line:7,column:4},end:{line:7,column:35}},"4":{start:{line:8,column:4},end:{line:14,column:7}},"5":{start:{line:9,column:8},end:{line:12,column:9}},"6":{start:{line:10,column:12},end:{line:10,column:31}},"7":{start:{line:11,column:12},end:{line:11,column:35}},"8":{start:{line:13,column:8},end:{line:13,column:23}},"9":{start:{line:17,column:19},end:{line:19,column:1}},"10":{start:{line:18,column:4},end:{line:18,column:96}},"11":{start:{line:21,column:17},end:{line:23,column:1}},"12":{start:{line:22,column:4},end:{line:22,column:47}},"13":{start:{line:25,column:17},end:{line:27,column:1}},"14":{start:{line:26,column:4},end:{line:26,column:52}},"15":{start:{line:29,column:14},end:{line:34,column:1}},"16":{start:{line:30,column:4},end:{line:30,column:32}},"17":{start:{line:31,column:4},end:{line:31,column:47}},"18":{start:{line:32,column:4},end:{line:32,column:43}},"19":{start:{line:33,column:4},end:{line:33,column:35}},"20":{start:{line:36,column:0},end:{line:38,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:15},end:{line:5,column:16}},loc:{start:{line:5,column:29},end:{line:15,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:8,column:44},end:{line:8,column:45}},loc:{start:{line:8,column:59},end:{line:14,column:5}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:17,column:19},end:{line:17,column:20}},loc:{start:{line:17,column:33},end:{line:19,column:1}},line:17},"3":{name:"(anonymous_3)",decl:{start:{line:21,column:17},end:{line:21,column:18}},loc:{start:{line:21,column:31},end:{line:23,column:1}},line:21},"4":{name:"(anonymous_4)",decl:{start:{line:25,column:17},end:{line:25,column:18}},loc:{start:{line:25,column:31},end:{line:27,column:1}},line:25},"5":{name:"(anonymous_5)",decl:{start:{line:29,column:14},end:{line:29,column:15}},loc:{start:{line:29,column:23},end:{line:34,column:1}},line:29}},branchMap:{"0":{loc:{start:{line:9,column:8},end:{line:12,column:9}},type:"if",locations:[{start:{line:9,column:8},end:{line:12,column:9}},{start:{line:9,column:8},end:{line:12,column:9}}],line:9}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7e5cc71e8a83d1efe3336e9f29aa84da1113def9"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1c19dgkrxx=function(){return actualCoverage;};}return actualCoverage;}cov_1c19dgkrxx();let invoker=(cov_1c19dgkrxx().s[0]++,new(require('app/utils/Invoker'))());cov_1c19dgkrxx().s[1]++;let render=(req,res)=>{cov_1c19dgkrxx().f[0]++;let content=(cov_1c19dgkrxx().s[2]++,invoker.content);cov_1c19dgkrxx().s[3]++;content.timestamp=Date.now();cov_1c19dgkrxx().s[4]++;res.render('invoker/template',content,(err,html)=>{cov_1c19dgkrxx().f[1]++;cov_1c19dgkrxx().s[5]++;if(err){cov_1c19dgkrxx().b[0][0]++;cov_1c19dgkrxx().s[6]++;req.log.error(err);cov_1c19dgkrxx().s[7]++;return res.status(500);}else{cov_1c19dgkrxx().b[0][1]++;}cov_1c19dgkrxx().s[8]++;res.send(html);});};cov_1c19dgkrxx().s[9]++;let formFiller=(req,res)=>{cov_1c19dgkrxx().f[2]++;cov_1c19dgkrxx().s[10]++;res.json(invoker.fillForm(req.query.service,req.query.actor,req.query.fields.split(',')));};cov_1c19dgkrxx().s[11]++;let genToken=(req,res)=>{cov_1c19dgkrxx().f[3]++;cov_1c19dgkrxx().s[12]++;res.json(invoker.generateToken(req.query));};cov_1c19dgkrxx().s[13]++;let postForm=(req,res)=>{cov_1c19dgkrxx().f[4]++;cov_1c19dgkrxx().s[14]++;res.redirect(invoker.serviceEndpoint(req.body));};cov_1c19dgkrxx().s[15]++;let addTo=app=>{cov_1c19dgkrxx().f[5]++;cov_1c19dgkrxx().s[16]++;app.get('/invoker',render);cov_1c19dgkrxx().s[17]++;app.get('/invoker/formFiller',formFiller);cov_1c19dgkrxx().s[18]++;app.get('/invoker/genToken',genToken);cov_1c19dgkrxx().s[19]++;app.post('/invoker',postForm);};cov_1c19dgkrxx().s[20]++;module.exports={'addTo':addTo};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbnZva2VyIiwicmVxdWlyZSIsInJlbmRlciIsInJlcSIsInJlcyIsImNvbnRlbnQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwiZXJyIiwiaHRtbCIsImxvZyIsImVycm9yIiwic3RhdHVzIiwic2VuZCIsImZvcm1GaWxsZXIiLCJqc29uIiwiZmlsbEZvcm0iLCJxdWVyeSIsInNlcnZpY2UiLCJhY3RvciIsImZpZWxkcyIsInNwbGl0IiwiZ2VuVG9rZW4iLCJnZW5lcmF0ZVRva2VuIiwicG9zdEZvcm0iLCJyZWRpcmVjdCIsInNlcnZpY2VFbmRwb2ludCIsImJvZHkiLCJhZGRUbyIsImFwcCIsImdldCIsInBvc3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiaW52b2tlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmxldCAgIGludm9rZXIgPSBuZXcgKHJlcXVpcmUoJ2FwcC91dGlscy9JbnZva2VyJykpKCk7XG5cbmxldCAgIHJlbmRlciA9IChyZXEsIHJlcykgPT4ge1xuICAgIGxldCAgIGNvbnRlbnQgPSBpbnZva2VyLmNvbnRlbnQ7XG4gICAgY29udGVudC50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgIHJlcy5yZW5kZXIoJ2ludm9rZXIvdGVtcGxhdGUnLCBjb250ZW50LCAoZXJyLCBodG1sKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJlcS5sb2cuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnNlbmQoaHRtbCk7XG4gICAgfSk7XG59O1xuXG5sZXQgICBmb3JtRmlsbGVyID0gKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmpzb24oaW52b2tlci5maWxsRm9ybShyZXEucXVlcnkuc2VydmljZSwgcmVxLnF1ZXJ5LmFjdG9yLCByZXEucXVlcnkuZmllbGRzLnNwbGl0KCcsJykpKTtcbn07XG5cbmxldCAgIGdlblRva2VuID0gKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmpzb24oaW52b2tlci5nZW5lcmF0ZVRva2VuKHJlcS5xdWVyeSkpO1xufTtcblxubGV0ICAgcG9zdEZvcm0gPSAocmVxLCByZXMpID0+IHtcbiAgICByZXMucmVkaXJlY3QoaW52b2tlci5zZXJ2aWNlRW5kcG9pbnQocmVxLmJvZHkpKTtcbn07XG5cbmxldCAgIGFkZFRvID0gKGFwcCkgPT4ge1xuICAgIGFwcC5nZXQoJy9pbnZva2VyJywgcmVuZGVyKTtcbiAgICBhcHAuZ2V0KCcvaW52b2tlci9mb3JtRmlsbGVyJywgZm9ybUZpbGxlcik7XG4gICAgYXBwLmdldCgnL2ludm9rZXIvZ2VuVG9rZW4nLCBnZW5Ub2tlbik7XG4gICAgYXBwLnBvc3QoJy9pbnZva2VyJywgcG9zdEZvcm0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgJ2FkZFRvJzogYWRkVG9cbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBLGEsNitGQWVZOzJGQWJaLEdBQU1BLFFBQU8sMEJBQUcsSUFBS0MsT0FBTyxDQUFDLG1CQUFELENBQVosR0FBSCxDQUFiLEMsd0JBRUEsR0FBTUMsT0FBTSxDQUFHLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixHQUFjLHlCQUN6QixHQUFNQyxRQUFPLDBCQUFHTCxPQUFPLENBQUNLLE9BQVgsQ0FBYixDQUR5Qix3QkFFekJBLE9BQU8sQ0FBQ0MsU0FBUixDQUFvQkMsSUFBSSxDQUFDQyxHQUFMLEVBQXBCLENBRnlCLHdCQUd6QkosR0FBRyxDQUFDRixNQUFKLENBQVcsa0JBQVgsQ0FBK0JHLE9BQS9CLENBQXdDLENBQUNJLEdBQUQsQ0FBTUMsSUFBTixHQUFlLGlEQUNuRCxHQUFJRCxHQUFKLENBQVMsb0RBQ0xOLEdBQUcsQ0FBQ1EsR0FBSixDQUFRQyxLQUFSLENBQWNILEdBQWQsRUFESyx3QkFFTCxNQUFPTCxJQUFHLENBQUNTLE1BQUosQ0FBVyxHQUFYLENBQVAsQ0FDSCxDQUhELGlDQURtRCx3QkFLbkRULEdBQUcsQ0FBQ1UsSUFBSixDQUFTSixJQUFULEVBQ0gsQ0FORCxFQU9ILENBVkQsQyx3QkFZQSxHQUFNSyxXQUFVLENBQUcsQ0FBQ1osR0FBRCxDQUFNQyxHQUFOLEdBQWMsa0RBQzdCQSxHQUFHLENBQUNZLElBQUosQ0FBU2hCLE9BQU8sQ0FBQ2lCLFFBQVIsQ0FBaUJkLEdBQUcsQ0FBQ2UsS0FBSixDQUFVQyxPQUEzQixDQUFvQ2hCLEdBQUcsQ0FBQ2UsS0FBSixDQUFVRSxLQUE5QyxDQUFxRGpCLEdBQUcsQ0FBQ2UsS0FBSixDQUFVRyxNQUFWLENBQWlCQyxLQUFqQixDQUF1QixHQUF2QixDQUFyRCxDQUFULEVBQ0gsQ0FGRCxDLHlCQUlBLEdBQU1DLFNBQVEsQ0FBRyxDQUFDcEIsR0FBRCxDQUFNQyxHQUFOLEdBQWMsa0RBQzNCQSxHQUFHLENBQUNZLElBQUosQ0FBU2hCLE9BQU8sQ0FBQ3dCLGFBQVIsQ0FBc0JyQixHQUFHLENBQUNlLEtBQTFCLENBQVQsRUFDSCxDQUZELEMseUJBSUEsR0FBTU8sU0FBUSxDQUFHLENBQUN0QixHQUFELENBQU1DLEdBQU4sR0FBYyxrREFDM0JBLEdBQUcsQ0FBQ3NCLFFBQUosQ0FBYTFCLE9BQU8sQ0FBQzJCLGVBQVIsQ0FBd0J4QixHQUFHLENBQUN5QixJQUE1QixDQUFiLEVBQ0gsQ0FGRCxDLHlCQUlBLEdBQU1DLE1BQUssQ0FBSUMsR0FBRCxFQUFTLGtEQUNuQkEsR0FBRyxDQUFDQyxHQUFKLENBQVEsVUFBUixDQUFvQjdCLE1BQXBCLEVBRG1CLHlCQUVuQjRCLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLHFCQUFSLENBQStCaEIsVUFBL0IsRUFGbUIseUJBR25CZSxHQUFHLENBQUNDLEdBQUosQ0FBUSxtQkFBUixDQUE2QlIsUUFBN0IsRUFIbUIseUJBSW5CTyxHQUFHLENBQUNFLElBQUosQ0FBUyxVQUFULENBQXFCUCxRQUFyQixFQUNILENBTEQsQyx5QkFPQVEsTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQ2IsUUFBU0wsS0FESSxDQUFqQiJ9